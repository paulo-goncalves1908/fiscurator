{"version":3,"sources":["services/api.js","helpers/apiCalls.js","hooks/globalState.js","helpers/languagesConfig.js","components/AccountSelectionModal/index.js","components/HelpModal/index.js","components/CognosHelpModal/index.js","components/WarningModal/index.js","components/StandardDashboardModal/index.js","components/SuccessModal/index.js","components/Header/index.js","components/Rating/index.js","helpers/helpers.js","components/InfoTable/index.js","components/Tabs/index.js","components/ConfigModal/index.js","components/PaginationComponent/index.js","components/DateChooser/index.js","pages/Dashboard/index.js","pages/Search/index.js","helpers/cognos.js","components/TextInput/index.js","components/Select/index.js","components/CognosConfigModal/index.js","components/SaveModal/index.js","components/LoadModal/index.js","pages/Cognos/index.js","pages/Login/index.js","routes.js","index.js"],"names":["api","axios","create","baseURL","window","location","protocol","host","getAccounts","a","Promise","resolve","reject","get","then","res","data","catch","err","switchAccount","accountId","getResources","getResourceKeys","resourceId","GlobalStateContext","createContext","GlobalStateProvider","children","history","useHistory","useState","language","setLanguage","resources","accounts","setAccounts","entity","name","account","setAccount","cognos","body","guid","cloudant","db2","setResources","loading","setLoading","helpOpen","setHelpOpen","cognosHelpOpen","setCognosHelpOpen","configOpen","setConfigOpen","cognosConfigOpen","setCognosConfigOpen","accountModalOpen","setAccountModalOpen","accountLoading","setAccountLoading","accountSelected","setAccountSelected","saveModalOpen","setSaveModalOpen","loadModalOpen","setLoadModalOpen","warningOpen","setWarningOpen","standardDashboardModal","setStandardDashboardModal","successOpen","setSuccessOpen","unsavedChanges","setUnsavedChanges","rowData","setRowData","conversations","setConversations","conversationsByDay","setConversationsByDay","intentsByDay","setIntentsByDay","dateFilter","setDateFilter","cognosClient","setCognosClient","cognosSession","setCognosSession","cognosDashboard","setCognosDashboard","JSON","parse","localStorage","getItem","credentialsAndDefaults","setCredentialsAndDefaults","itensPerPage","setItensPerPage","currentPage","setCurrentPage","startIndex","endIndex","useEffect","response","status","push","setItem","stringify","Provider","value","useGlobalState","context","useContext","Error","pt","headerSwitcher","save","upToDate","load","infoTable","sendButton","group","accountSelectionModal","heading","label","primaryText","secondaryText","inputLabel1","modal","selectAnOption","alert","inputLabel2","cognosModal","tab1","tab2","tab3","tab4","inputLabel3","inputLabel4","inputLabel5","inputLabel6","inputLabel7","inputLabel8","inputLabel9","inputLabel10","inputLabel11","inputLabel12","inputLabel13","inputLabel14","inputLabel15","inputLabel16","inputLabel17","saveModal","loadModal","modalHelp","text","cognosModalHelp","modalWarning","caption","modalSuccess","tabs","es","en","AccountSelectionModal","modalOpen","Modal","open","modalHeading","textLanguage","modalLabel","primaryButtonText","secondaryButtonText","onRequestClose","onRequestSubmit","preventCloseOnClickOutside","Select","id","invalidText","labelText","onChange","e","target","metadata","map","resource","SelectItem","HelpModal","passiveModal","CognosHelpModal","WarningModal","handleClose","kind","title","subtitle","iconDescription","statusIconDescription","onClose","onCloseButtonClick","timeout","style","marginBottom","StandardDashboardModal","SuccessModal","HeaderIcc","renderButton","languageIcons","openSidePanel","setOpenSidePanel","prefix","onClick","pathname","includes","fill","menuLinkName","acc","Object","entries","key","toUpperCase","expanded","height","maxWidth","customIcons","icon","IconContainer","props","other","BasicRating","conversationID","logID","defaultValue","Rating","IconContainerComponent","highlightSelectedOnly","sx","color","newValue","log","LOGID","SCORE","createRows","updateScore","rowsAux","rowAux","CONVERSATIONID","CLIENTMESSAGE","ASSISTANTMESSAGE","FIRSTINTENT","CLIENTTIMESTAMP","getLogs","connectionString","tableName","callback","param","post","connStr","table","keys","length","conversation","updateRender","filter","obj","fromEntries","getCognosSession","username","password","sendToCloudant","cloudantApi","cloudantUrl","cloudantDbName","dashboardName","apikey","url","dbName","docId","document","getFromCloudant","ID","initializeSources","xsd","jdbcUrl","driverClassName","schema","user","logsTable","conversationTable","callsTable","contextTable","conversationPathTable","overviewTable","classDistributionTable","precisionAtKTable","classAccuracyTable","pairWiseClassErrorsTable","accuracyVsCoverageTable","_id","_rev","generateConnectionString","credential","credentials","connection","database","hosts","hostname","port","authentication","registerLogin","console","defaultValues","db2Username","db2Password","cognosUsername","cognosPassword","defaults","defaultDashboardName","InfoTable","day","filtered","DataTable","rows","headers","header","useZebraStyles","stickyHeader","size","getHeaderProps","getTableProps","getTableContainerProps","TableContainer","TableToolbar","TableToolbarContent","Button","sendScore","Table","TableHead","TableRow","TableHeader","TableBody","row","cells","cell","TableCell","BasicTabs","Tabs","type","slice","foundConversation","split","createLabel","values","indexOf","Tab","ConfigModal","selectedInstance","setSelectedInstance","selectedCredential","setSelectedCredential","temp","noConnection","resourceKeys","Loading","TextInput","placeholder","PaginationComponent","Pagination","itemsPerPageText","Languages","page","pageNumberText","pageSize","pageSizes","totalItems","firstTab","getElementById","click","selectFirstTab","dateToShow","setDateToShow","reverse","join","hasIconOnly","renderIcon","PageFirst32","disabled","PageLast32","Dashboard","storedLanguage","DataTableSkeleton","SearchPage","searchValue","setSearchValue","Search","className","light","Accordion","intent","toLowerCase","replace","AccordionItem","_typeof","Symbol","iterator","constructor","prototype","_createClass","defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","CognosApi","options","instance","TypeError","_classCallCheck","this","node","_node","_cognosURL","cognosRootURL","_testURL","testURL","_sessionCode","sessionCode","_initTimeout","initTimeout","_apiKey","_createUID","_pendingRequests","_eventCallbacks","_eventReverseLookup","SUPPORTED_LANGUAGES","_language","_message_regex","RegExp","updateModuleDefinitions","_updateModuleDefinitions","bind","_this","_readyPromise","_initializeContainer","_initializeService","_sendMessage","apiId","actionId","APISERVICE_INIT","eventName","cb","APISERVICE_ON","parameters","Array","call","arguments","APISERVICE_OFF","container","createElement","src","_buildSourceUrl","setAttribute","APISERVICE_CLASS","innerHTML","appendChild","_target","contentWindow","_targetOrigin","exec","origin","_this2","_destroyService","_cleanupApiService","_cleanupContainer","root","params","perspective","apiKey","parentOrigin","contentLanguage","k","encodeURIComponent","_this3","_messageHandler","removeEventListener","forEach","memberName","iframes","getElementsByClassName","removeChild","_this4","_receiveMessage","addEventListener","_registerResponseCallbacks","_this5","APISERVICE_DESTROY","success","fail","_registerEventCallbacks","_unregisterEventCallbacks","postMessage","_createMessage","event","_parseMessage","_rejectResponseCallbacks","payload","_resolveResponseCallbacks","resolvedAPI","_injectAPI","_handleEventCallbacks","APIHEADER","APIHEADER_DELIMITER","result","lastIndex","apiSpec","_this6","_getAPIMethod","methodName","_this7","_len","args","_key","_len2","_key2","_len3","_key3","dashboardSpec","dataSources","sources","moduleClientIds","source","clientId","newModules","_doModuleUpdate","cloneDashboardSpec","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","newModule","module","newId","return","prepend","uid","Date","now","valueOf","__uid","toString","EVENTS","REQUEST_ERROR","APIHEADER_MARKER","APIHEADER_VERSION","freeze","cs","da","de","fi","fr","hr","hu","it","ja","kk","ko","nb","nl","no","pl","ro","ru","sl","sv","th","tr","zh","Input","index","field","upperCase","CustomSelect","setSelection","CognosConfigModal","cognosInstance","setCognosInstance","cloudantInstance","setCloudantInstance","db2Instance","setDb2Instance","client_id","client_secret","jdbc_url","handleCognosCredentials","handleCloudantCredentials","handleDb2Credentials","hasForm","SaveModal","LoadModal","loadDashboard","cognosApi","dashboard","initialize","openDashboard","dashboardAPI","setMode","MODES","EDIT","getSpec","on","DIRTY","dashSpec","CognosPage","renderSave","setRenderSave","initializeDashboard","session","storagedDashboard","Login","token","setToken","invalid","setInvalid","passcode","some","primary_owner","ibmid","toLocaleDateString","timeZone","hour","minute","second","required","href","Routes","exact","path","to","component","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e7665501.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"production\"\n      ? `${window.location.protocol}//${window.location.host}`\n      : \"http://localhost:5000\",\n});\n\nexport default api;\n","import api from \"../services/api\";\n\nexport async function getAccounts() {\n  return new Promise((resolve, reject) => {\n    api\n      .get(\"/ibmid/accounts\")\n      .then((res) => {\n        resolve(res.data);\n      })\n      .catch((err) => reject(err));\n  });\n}\n\nexport async function switchAccount(accountId) {\n  return new Promise((resolve, reject) => {\n    api\n      .get(`/ibmid/accounts/switch?account_id=${accountId}`)\n      .then((res) => resolve(res.data))\n      .catch((err) => reject(err));\n  });\n}\n\nexport async function getResources() {\n  return new Promise((resolve, reject) => {\n    api\n      .get(`/resources`)\n      .then((res) => {\n        resolve(res.data);\n      })\n      .catch((err) => reject(err));\n  });\n}\n\nexport async function getResourceKeys(resourceId) {\n  return new Promise((resolve, reject) => {\n    api\n      .get(`/ibmid/resources/${resourceId}/resource_keys`)\n      .then((res) => resolve(res.data))\n      .catch((err) => reject(err));\n  });\n}\n","import React, { useContext, useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { getAccounts, getResources } from \"../helpers/apiCalls\";\n\nconst GlobalStateContext = createContext({});\n\nexport default function GlobalStateProvider({ children }) {\n  const history = useHistory();\n\n  const [language, setLanguage] = useState(\"en\");\n\n  const [accounts, setAccounts] = useState({ resources: [] });\n  const [account, setAccount] = useState({\n    entity: {\n      name: \"\",\n    },\n  });\n  const [resources, setResources] = useState({\n    cognos: {\n      body: {\n        resources: [\n          {\n            guid: \"\",\n            name: \"\",\n          },\n        ],\n      },\n    },\n    cloudant: {\n      body: {\n        resources: [\n          {\n            guid: \"\",\n            name: \"\",\n          },\n        ],\n      },\n    },\n    db2: {\n      body: {\n        resources: [\n          {\n            guid: \"\",\n            name: \"\",\n          },\n        ],\n      },\n    },\n  });\n\n  const [loading, setLoading] = useState(true);\n\n  const [helpOpen, setHelpOpen] = useState(false);\n  const [cognosHelpOpen, setCognosHelpOpen] = useState(false);\n\n  const [configOpen, setConfigOpen] = useState(false);\n  const [cognosConfigOpen, setCognosConfigOpen] = useState(false);\n  const [accountModalOpen, setAccountModalOpen] = useState(false);\n  const [accountLoading, setAccountLoading] = useState(false);\n\n  const [accountSelected, setAccountSelected] = useState(false);\n\n  const [saveModalOpen, setSaveModalOpen] = useState(false);\n  const [loadModalOpen, setLoadModalOpen] = useState(false);\n\n  const [warningOpen, setWarningOpen] = useState(false);\n  const [standardDashboardModal, setStandardDashboardModal] = useState(false);\n  const [successOpen, setSuccessOpen] = useState(false);\n\n  const [unsavedChanges, setUnsavedChanges] = useState(false);\n\n  const [rowData, setRowData] = useState([]);\n  const [conversations, setConversations] = useState([]);\n  const [conversationsByDay, setConversationsByDay] = useState({});\n  const [intentsByDay, setIntentsByDay] = useState({});\n  const [dateFilter, setDateFilter] = useState(\"\");\n\n  const [cognosClient, setCognosClient] = useState(null);\n  const [cognosSession, setCognosSession] = useState({});\n  const [cognosDashboard, setCognosDashboard] = useState(null);\n\n  const [credentialsAndDefaults, setCredentialsAndDefaults] = useState(\n    JSON.parse(\n      localStorage.getItem(\"@assistant-curator/credentialsAndDefaults\")\n    )\n  );\n\n  // pagination\n  const [itensPerPage, setItensPerPage] = useState(9);\n  const [currentPage, setCurrentPage] = useState(1);\n  const startIndex = (currentPage - 1) * itensPerPage;\n  const endIndex = startIndex + itensPerPage;\n\n  useEffect(async () => {\n    if (account.entity.name !== \"\") {\n      await getAccounts()\n        .then((res) => setAccounts(res))\n        .catch((err) => {\n          if (err.response.status === 401) history.push(\"/login\");\n        });\n      await getResources()\n        .then((res) => {\n          setResources(res);\n          setAccountLoading(false);\n        })\n        .catch((err) => {\n          if (err.response.status === 401) history.push(\"/login\");\n        });\n    }\n  }, [account]);\n\n  useEffect(() => {\n    localStorage.setItem(\n      \"@assistant-curator/credentialsAndDefaults\",\n      JSON.stringify(credentialsAndDefaults)\n    );\n  }, [credentialsAndDefaults]);\n\n  return (\n    <GlobalStateContext.Provider\n      value={{\n        language,\n        setLanguage,\n        loading,\n        setLoading,\n        helpOpen,\n        setHelpOpen,\n        cognosHelpOpen,\n        setCognosHelpOpen,\n        saveModalOpen,\n        setSaveModalOpen,\n        loadModalOpen,\n        setLoadModalOpen,\n        warningOpen,\n        setWarningOpen,\n        standardDashboardModal,\n        setStandardDashboardModal,\n        successOpen,\n        setSuccessOpen,\n        unsavedChanges,\n        setUnsavedChanges,\n        configOpen,\n        setConfigOpen,\n        cognosConfigOpen,\n        setCognosConfigOpen,\n        accountModalOpen,\n        setAccountModalOpen,\n        accountSelected,\n        setAccountSelected,\n        accountLoading,\n        setAccountLoading,\n        rowData,\n        setRowData,\n        conversations,\n        setConversations,\n        conversationsByDay,\n        setConversationsByDay,\n        intentsByDay,\n        setIntentsByDay,\n        dateFilter,\n        setDateFilter,\n        cognosClient,\n        setCognosClient,\n        cognosSession,\n        setCognosSession,\n        cognosDashboard,\n        setCognosDashboard,\n        credentialsAndDefaults,\n        setCredentialsAndDefaults,\n        history,\n        accounts,\n        setAccounts,\n        account,\n        setAccount,\n        resources,\n        setResources,\n        itensPerPage,\n        setItensPerPage,\n        currentPage,\n        setCurrentPage,\n        startIndex,\n        endIndex,\n      }}\n    >\n      {children}\n    </GlobalStateContext.Provider>\n  );\n}\n\nexport function useGlobalState() {\n  const context = useContext(GlobalStateContext);\n\n  if (!context) {\n    throw new Error(\"useGlobalState must be used within a GlobalStateProvider\");\n  }\n\n  return context;\n}\n","export default {\n  pt: {\n    headerSwitcher: {\n      save: \"Salvar\",\n      upToDate: \"Já atualizado\",\n      load: \"Load\",\n    },\n    infoTable: {\n      sendButton: \"Enviar para o BD\",\n      group: \"Grupo\",\n    },\n    accountSelectionModal: {\n      heading: \"Selecione a conta desejada\",\n      label: \"Contas disponíveis\",\n      primaryText: \"Selecionar\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Contas\",\n    },\n    modal: {\n      heading: \"Informações de conexão com Db2\",\n      label: \"Instância e Tabela consultadas\",\n      primaryText: \"Recarregar\",\n      secondaryText: \"Salvar\",\n      selectAnOption: \"Selecione uma opção\",\n      alert: \"Por favor, selecione uma das instâncias listadas\",\n      inputLabel1: \"Selecione a instância do Db2 desejada\",\n      inputLabel2: \"Insira o título da tabela a ser consultada\",\n    },\n    cognosModal: {\n      heading: \"Credenciais de uso do Cognos\",\n      label: \"Instâncias consultadas\",\n      primaryText: \"Recarregar\",\n      secondaryText: \"Salvar\",\n      tab1: \"Cognos\",\n      tab2: \"Cloudant\",\n      tab3: \"Db2\",\n      tab4: \"Tabelas\",\n      selectAnOption: \"Selecione uma opção\",\n      alert: \"Por favor, selecione uma das instâncias listadas\",\n      inputLabel1: \"Selecione a instância do Cognos desejada\",\n      inputLabel2: \"Selecione a instância do Cloudant desejada\",\n      inputLabel3: \"Insira a database do Cloudant desejada\",\n      inputLabel4: \"Selecione a instância do Db2 desejada\",\n      inputLabel5: \"Insira o link do módulo xsd\",\n      inputLabel6: \"Insira o driver Jdbc\",\n      inputLabel7: \"Tabela de logs\",\n      inputLabel8: \"Tabela de conversas\",\n      inputLabel9: \"Tabela de telefonemas\",\n      inputLabel10: \"Tabela de variáveis de contexto\",\n      inputLabel11: \"Tabela de caminhos de conversa\",\n      inputLabel12: \"Tabela de visão geral\",\n      inputLabel13: \"Tabela de distribuição de classes\",\n      inputLabel14: \"Tabela de precisão @k\",\n      inputLabel15: \"Tabela de acurácia de classes\",\n      inputLabel16: \"Tabela de intenções confundidas\",\n      inputLabel17: \"Tabela de acurácia vs cobertura\",\n    },\n    saveModal: {\n      heading:\n        \"Insira o nome que deseja dar ao dashboard. Este será automaticamente configurado como Dashboard default\",\n      label: \"Salvar Dashboard no Cloudant\",\n      primaryText: \"Salvar\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Nome (ID) do Dashboard\",\n    },\n    loadModal: {\n      heading:\n        \"Insira o nome do dashboard que deseja buscar. Este será automaticamente configurado como Dashboard default\",\n      label: \"Buscar Dashboard no Cloudant\",\n      primaryText: \"Buscar\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Nome (ID) do Dashboard\",\n    },\n    modalHelp: {\n      heading: \"Ajuda\",\n      text: \"Esta tabela exibe a troca de mensagens entre cliente e Assistente, destacando qual foi a intent compreendida pelo assistente na mensagem recebida. Com estas informações, o curador pode avaliar o desempenho do assistente no nível de mensagem.\",\n    },\n    cognosModalHelp: {\n      heading: \"Ajuda\",\n      text: \"Esta página exibe um dashboard interativo que apresenta métricas para auxiliar o processo de curadoria do assitente.\",\n    },\n    modalWarning: {\n      heading: \"Aviso\",\n      text: \"Não foi possível realizar a conexão com a base de dados através dos dados fornecidos. Por favor verifique as informações inseridas e tente novamente.\",\n      caption: \"\",\n    },\n    standardDashboardModal: {\n      heading: \"Aviso\",\n      text: \"Inicializando Dashboard Padrão.\",\n      caption: \"\",\n    },\n    modalSuccess: {\n      heading: \"Sucesso!\",\n      text: \"Conexão realizada com sucesso.\",\n      caption: \"\",\n    },\n    tabs: {\n      itensPerPage: \"Itens por página\",\n    },\n  },\n  es: {\n    headerSwitcher: {\n      save: \"Guardar\",\n      upToDate: \"Já actualizado\",\n      load: \"Cargar\",\n    },\n    infoTable: {\n      sendButton: \"Enviar a BD\",\n      group: \"Grupo\",\n    },\n    accountSelectionModal: {\n      heading: \"Seleccione la cuenta deseada\",\n      label: \"Cuentas disponibles\",\n      primaryText: \"Seleccione\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Cuentas\",\n    },\n    modal: {\n      heading: \"Información de conexión de Db2\",\n      label: \"Instancia y Tabla consultada\",\n      primaryText: \"Recargar\",\n      secondaryText: \"Guardar\",\n      selectAnOption: \"Seleccione una opción\",\n      alert: \"Seleccione una de las instancias enumeradas\",\n      inputLabel1: \"Seleccione la instancia de Db2 deseada\",\n      inputLabel2: \"Introduzca el título de la tabla a consultar\",\n    },\n    cognosModal: {\n      heading: \"Credenciales de uso de Cognos\",\n      label: \"Instancias consultadas\",\n      primaryText: \"Recargar\",\n      secondaryText: \"Guardar\",\n      tab1: \"Cognos\",\n      tab2: \"Cloudant\",\n      tab3: \"Db2\",\n      tab4: \"Tablas\",\n      selectAnOption: \"Seleccione una opción\",\n      alert: \"Seleccione una de las instancias enumeradas\",\n      inputLabel1: \"Seleccione la instancia de Cognos deseada\",\n      inputLabel2: \"Seleccione la instancia de Cloudant deseada\",\n      inputLabel3: \"Inserte la base de datos Cloudant deseada\",\n      inputLabel4: \"Seleccione la instancia de Db2 deseada\",\n      inputLabel5: \"Inserte el enlace del módulo xsd\",\n      inputLabel6: \"Inserte el driver Jdbc\",\n      inputLabel7: \"Tabla de registros\",\n      inputLabel8: \"Tabla de conversaciónes\",\n      inputLabel9: \"Tabla de llamadas telefonicas\",\n      inputLabel10: \"Tabla de variables de contexto\",\n      inputLabel11: \"Tabla de ruta de conversación\",\n      inputLabel12: \"Tabla de resumen\",\n      inputLabel13: \"Tabla de distribución de clases\",\n      inputLabel14: \"Tabla de precisión @k\",\n      inputLabel15: \"Tabla de precisión de clase\",\n      inputLabel16: \"Tabla de intenciones confusas\",\n      inputLabel17: \"Tabla de precisión versus cobertura\",\n    },\n    saveModal: {\n      heading:\n        \"Ingrese el nombre que desea darle al Dashboard. Esto se establecerá automáticamente como el Dashboard default\",\n      label: \"Guardar Dashboard en Cloudant\",\n      primaryText: \"Salvar\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Nombre (ID) del Dashboard\",\n    },\n    loadModal: {\n      heading:\n        \"Ingrese el nombre del Dashboard que desea buscar. Esto se establecerá automáticamente como el Dashboard default\",\n      label: \"Busca de Dashboard en Cloudant\",\n      primaryText: \"Buscar\",\n      secondaryText: \"Cancelar\",\n      inputLabel1: \"Nombre (ID) del Dashboard\",\n    },\n    modalHelp: {\n      heading: \"Ayuda\",\n      text: \"Esta tabla muestra el intercambio de mensajes entre el cliente y el Asistente, destacando qué intención entendió el asistente en el mensaje recibido. Con esta información, el curador puede evaluar el desempeño del asistente a nivel del mensaje.\",\n    },\n    cognosModalHelp: {\n      heading: \"Ayuda\",\n      text: \"Esta página muestra un tablero interactivo que presenta métricas para respaldar el proceso de curación del asistente.\",\n    },\n    modalWarning: {\n      heading: \"Error!\",\n      text: \"No fue posible conectarse a la base de datos utilizando los datos proporcionados. Verifique la información ingresada y vuelva a intentarlo.\",\n      caption: \"\",\n    },\n    standardDashboardModal: {\n      heading: \"Aviso\",\n      text: \"Inicializando el Dashboard predeterminado.\",\n      caption: \"\",\n    },\n    modalSuccess: {\n      heading: \"Éxito!\",\n      text: \"Conexión exitosa.\",\n      caption: \"\",\n    },\n    tabs: {\n      itensPerPage: \"Artículos por página\",\n    },\n  },\n  en: {\n    headerSwitcher: {\n      save: \"Save\",\n      upToDate: \"Up to date\",\n      load: \"Load\",\n    },\n    infoTable: {\n      sendButton: \"Send to DB\",\n      group: \"Group\",\n    },\n    accountSelectionModal: {\n      heading: \"Select the desired account\",\n      label: \"Available accounts\",\n      primaryText: \"Select\",\n      secondaryText: \"Cancel\",\n      inputLabel1: \"Accounts\",\n    },\n    modal: {\n      heading: \"Db2 conection information\",\n      label: \"Instance and Table to be consulted\",\n      primaryText: \"Reload\",\n      secondaryText: \"Save\",\n      selectAnOption: \"Select an option\",\n      alert: \"Please select one of the listed instances\",\n      inputLabel1: \"Select the desired Db2 instance\",\n      inputLabel2: \"Enter the title of the table to be queried\",\n    },\n    cognosModal: {\n      heading: \"Cognos credentials\",\n      label: \"Consulted Instances\",\n      primaryText: \"Reload\",\n      secondaryText: \"Save\",\n      tab1: \"Cognos\",\n      tab2: \"Cloudant\",\n      tab3: \"Db2\",\n      tab4: \"Tables\",\n      selectAnOption: \"Select an option\",\n      alert: \"Please select one of the listed instances\",\n      inputLabel1: \"Select the desired Cognos instance\",\n      inputLabel2: \"Select the desired Cloudant instance\",\n      inputLabel3: \"Enter the desired Cloudant database\",\n      inputLabel4: \"Select the desired Db2 instance\",\n      inputLabel5: \"Enter the xsd module link\",\n      inputLabel6: \"Enter the Jdbc driver\",\n      inputLabel7: \"Logs table\",\n      inputLabel8: \"Conversations table\",\n      inputLabel9: \"Calls table\",\n      inputLabel10: \"Context variables table\",\n      inputLabel11: \"Conversation path table\",\n      inputLabel12: \"Overview table\",\n      inputLabel13: \"Class Distribution table\",\n      inputLabel14: \"Precision @k table\",\n      inputLabel15: \"Class accuracy table\",\n      inputLabel16: \"Pair wise class errors table\",\n      inputLabel17: \"Accuracy vs coverage table\",\n    },\n    saveModal: {\n      heading:\n        \"Enter the name you want to give the Dashboard. This will automatically be set as the default Dashboard\",\n      label: \"Save Dashboard in Cloudant\",\n      primaryText: \"Save\",\n      secondaryText: \"Cancel\",\n      inputLabel1: \"Dashboard name (ID)\",\n    },\n    loadModal: {\n      heading:\n        \"Enter the name of the Dashboard you want to search. This will automatically be set as the default Dashboard\",\n      label: \"Search Dashboard in Cloudant\",\n      primaryText: \"Search\",\n      secondaryText: \"Cancel\",\n      inputLabel1: \"Dashboard name (ID)\",\n    },\n    modalHelp: {\n      heading: \"Help\",\n      text: \"This table displays the exchange of messages between client and Assistant, highlighting what intent was understood by the assistant in the received message. With this information, the curator can assess the assistant's performance at the message level.\",\n    },\n    cognosModalHelp: {\n      heading: \"Help\",\n      text: \"This page displays an interactive dashboard that presents metrics to support the Assistant curation process.\",\n    },\n    modalWarning: {\n      heading: \"Error!\",\n      text: \"It was not possible to connect through the supplied data. Please check the information and try again.\",\n      caption: \"\",\n    },\n    standardDashboardModal: {\n      heading: \"Warning\",\n      text: \"Initializing default Dashboard.\",\n      caption: \"\",\n    },\n    modalSuccess: {\n      heading: \"Success!\",\n      text: \"Successfully connected.\",\n      caption: \"\",\n    },\n    tabs: {\n      itensPerPage: \"Items per page\",\n    },\n  },\n};\n","import { useEffect, useState } from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport { Modal, Select, SelectItem } from \"carbon-components-react\";\nimport { switchAccount } from \"../../helpers/apiCalls\";\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nimport \"./style.css\";\n\nexport default function AccountSelectionModal({ modalOpen }) {\n  const {\n    setLoading,\n    accountModalOpen,\n    setAccountModalOpen,\n    setWarningOpen,\n    setSuccessOpen,\n    accounts,\n    setAccount,\n    setAccountLoading,\n    language,\n  } = useGlobalState();\n\n  async function handleSubmit() {\n    setAccountLoading(true);\n    setWarningOpen(false);\n    setSuccessOpen(false);\n    setAccountModalOpen(false);\n    setLoading(true);\n    modalOpen(true);\n  }\n\n  return (\n    <Modal\n      open={accountModalOpen}\n      modalHeading={textLanguage[language].accountSelectionModal.heading}\n      modalLabel={textLanguage[language].accountSelectionModal.label}\n      primaryButtonText={\n        textLanguage[language].accountSelectionModal.primaryText\n      }\n      secondaryButtonText={\n        textLanguage[language].accountSelectionModal.secondaryText\n      }\n      onRequestClose={() => {\n        setAccountModalOpen(false);\n      }}\n      onRequestSubmit={handleSubmit}\n      preventCloseOnClickOutside\n    >\n      <Select\n        id=\"select-1\"\n        invalidText=\"A valid value is required\"\n        labelText={textLanguage[language].accountSelectionModal.inputLabel1}\n        onChange={(e) => {\n          switchAccount(JSON.parse(e.target.value).metadata.guid).then(() => {\n            localStorage.setItem(\"savedAccount\", e.target.value);\n            setAccount(JSON.parse(e.target.value));\n          });\n        }}\n      >\n        {accounts &&\n          accounts.resources.map((resource) => (\n            <SelectItem\n              text={resource.entity.name}\n              value={JSON.stringify(resource)}\n            />\n          ))}\n      </Select>\n    </Modal>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { Modal } from \"carbon-components-react\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function HelpModal() {\n  const { language, helpOpen, setHelpOpen } = useGlobalState();\n\n  return (\n    <Modal\n      open={helpOpen}\n      modalHeading={textLanguage[language].modalHelp.heading}\n      onRequestClose={() => {\n        setHelpOpen(false);\n      }}\n      preventCloseOnClickOutside\n      passiveModal\n    >\n      <p>{textLanguage[language].modalHelp.text}</p>\n    </Modal>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { Modal } from \"carbon-components-react\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function CognosHelpModal() {\n  const { language, cognosHelpOpen, setCognosHelpOpen } = useGlobalState();\n\n  return (\n    <Modal\n      open={cognosHelpOpen}\n      modalHeading={textLanguage[language].cognosModalHelp.heading}\n      onRequestClose={() => {\n        setCognosHelpOpen(false);\n      }}\n      preventCloseOnClickOutside\n      passiveModal\n    >\n      <p>{textLanguage[language].cognosModalHelp.text}</p>\n    </Modal>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { ToastNotification } from \"carbon-components-react\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function WarningModal() {\n  const { language, setWarningOpen, warningOpen } = useGlobalState();\n\n  function handleClose() {\n    setWarningOpen(false);\n  }\n\n  const notificationProps = () => ({\n    kind: \"error\",\n    title: textLanguage[language].modalWarning.heading,\n    subtitle: textLanguage[language].modalWarning.text,\n    caption: textLanguage[language].modalWarning.caption,\n    iconDescription: \"Error\",\n    statusIconDescription: \"Error\",\n    onClose: handleClose,\n    onCloseButtonClick: handleClose,\n    timeout: 4500,\n  });\n\n  return warningOpen ? (\n    <ToastNotification\n      {...notificationProps()}\n      style={{ marginBottom: \".5rem\" }}\n    />\n  ) : (\n    \"\"\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { ToastNotification } from \"carbon-components-react\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function StandardDashboardModal() {\n  const { language, setStandardDashboardModal, standardDashboardModal } =\n    useGlobalState();\n\n  function handleClose() {\n    setStandardDashboardModal(false);\n  }\n\n  const notificationProps = () => ({\n    kind: \"warning\",\n    title: textLanguage[language].standardDashboardModal.heading,\n    subtitle: textLanguage[language].standardDashboardModal.text,\n    caption: textLanguage[language].standardDashboardModal.caption,\n    iconDescription: \"Warning\",\n    statusIconDescription: \"Warning\",\n    onClose: handleClose,\n    onCloseButtonClick: handleClose,\n    timeout: 4500,\n  });\n\n  return standardDashboardModal ? (\n    <ToastNotification\n      {...notificationProps()}\n      style={{ marginBottom: \".5rem\" }}\n    />\n  ) : (\n    \"\"\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { ToastNotification } from \"carbon-components-react\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function SuccessModal() {\n  const { language, setSuccessOpen, successOpen } = useGlobalState();\n\n  function handleClose() {\n    setSuccessOpen(false);\n  }\n\n  const notificationProps = () => ({\n    kind: \"success\",\n    title: textLanguage[language].modalSuccess.heading,\n    subtitle: textLanguage[language].modalSuccess.text,\n    caption: textLanguage[language].modalSuccess.caption,\n    iconDescription: \"Success\",\n    statusIconDescription: \"Success\",\n    onClose: handleClose,\n    onCloseButtonClick: handleClose,\n    timeout: 4500,\n  });\n\n  return successOpen ? (\n    <ToastNotification\n      {...notificationProps()}\n      style={{ marginBottom: \".5rem\" }}\n    />\n  ) : (\n    \"\"\n  );\n}\n","import React, { useState } from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport Settings20 from \"@carbon/icons-react/lib/settings/20\";\nimport Help20 from \"@carbon/icons-react/lib/help/20\";\nimport { Save20 } from \"@carbon/icons-react\";\nimport {\n  Header,\n  HeaderName,\n  HeaderMenuItem,\n  HeaderNavigation,\n  HeaderGlobalAction,\n  HeaderGlobalBar,\n  HeaderPanel,\n  HeaderMenu,\n  Switcher,\n  SwitcherItem,\n} from \"carbon-components-react/lib/components/UIShell\";\n\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nimport AccountSelectionModal from \"../AccountSelectionModal\";\nimport HelpModal from \"../HelpModal\";\nimport CognosHelpModal from \"../CognosHelpModal\";\n\nimport WarningModal from \"../WarningModal\";\nimport StandardDashboardModal from \"../StandardDashboardModal\";\nimport SuccessModal from \"../SuccessModal\";\n\nimport { switchAccount } from \"../../helpers/apiCalls\";\n\nimport { US, BR, ES } from \"country-flag-icons/react/3x2\";\n\nimport \"./style.css\";\nexport default function HeaderIcc({ modalOpen, helpOpen, renderButton }) {\n  const {\n    language,\n    setLanguage,\n    setSaveModalOpen,\n    setLoadModalOpen,\n    unsavedChanges,\n    history,\n    accounts,\n    account,\n    setAccount,\n    setAccountLoading,\n  } = useGlobalState();\n\n  const languageIcons = { pt: <BR />, es: <ES />, en: <US /> };\n  const [openSidePanel, setOpenSidePanel] = useState(false);\n\n  return (\n    <Header aria-label=\"IBM Innovation Studio\">\n      <HeaderName\n        prefix=\"IBM Innovation Studio\"\n        onClick={() => history.push(`/dashboard`)}\n      >\n        Assistant Curator\n      </HeaderName>\n      {!history.location.pathname.includes(\"login\") && (\n        <>\n          <HeaderNavigation aria-label=\"IBM [Platform]\">\n            <HeaderMenuItem onClick={() => history.push(`/search`)}>\n              Intent Search\n            </HeaderMenuItem>\n            <HeaderMenuItem onClick={() => history.push(`/cognos`)}>\n              Cognos\n            </HeaderMenuItem>\n          </HeaderNavigation>\n          <HeaderGlobalBar>\n            {renderButton && (\n              <HeaderGlobalAction\n                aria-label=\"Save\"\n                onClick={() => {\n                  openSidePanel\n                    ? setOpenSidePanel(false)\n                    : setOpenSidePanel(true);\n                }}\n              >\n                {unsavedChanges ? (\n                  <Save20 style={{ fill: \"#4589ff\" }} />\n                ) : (\n                  <Save20 />\n                )}\n              </HeaderGlobalAction>\n            )}\n\n            <HeaderMenu menuLinkName={account.entity.name}>\n              {accounts.resources.map((acc) => (\n                <HeaderMenuItem\n                  id=\"accounts\"\n                  onClick={() => {\n                    switchAccount(acc.metadata.guid).then(() => {\n                      localStorage.setItem(\"savedAccount\", JSON.stringify(acc));\n                      setAccount(acc);\n                      setAccountLoading(true);\n                      modalOpen(true);\n                    });\n                  }}\n                >\n                  {acc.entity.name}\n                </HeaderMenuItem>\n              ))}\n            </HeaderMenu>\n\n            <HeaderMenu menuLinkName={languageIcons[language]}>\n              {Object.entries(languageIcons).map(([key, value]) => (\n                <HeaderMenuItem\n                  onClick={() => {\n                    setLanguage(key);\n                    localStorage.setItem(\"language\", key);\n                  }}\n                >\n                  {value}\n                  {` ${key.toUpperCase()}`}\n                </HeaderMenuItem>\n              ))}\n            </HeaderMenu>\n\n            <HeaderGlobalAction\n              aria-label=\"Settings\"\n              onClick={() => {\n                modalOpen(true);\n              }}\n            >\n              <Settings20 />\n            </HeaderGlobalAction>\n            <HeaderGlobalAction\n              aria-label=\"Help\"\n              onClick={() => {\n                helpOpen(true);\n              }}\n            >\n              <Help20 />\n            </HeaderGlobalAction>\n          </HeaderGlobalBar>\n          <HeaderPanel\n            aria-label=\"Header Panel\"\n            expanded={openSidePanel}\n            style={{ height: \"100px\", maxWidth: \"145px\" }}\n          >\n            <Switcher aria-label=\"Switcher Container\">\n              <SwitcherItem\n                aria-label=\"Save\"\n                onClick={async () => {\n                  setOpenSidePanel(false);\n                  setSaveModalOpen(true);\n                }}\n              >\n                {unsavedChanges\n                  ? textLanguage[language].headerSwitcher.save\n                  : textLanguage[language].headerSwitcher.upToDate}\n              </SwitcherItem>\n              <SwitcherItem\n                aria-label=\"Load\"\n                onClick={async () => {\n                  setOpenSidePanel(false);\n                  setLoadModalOpen(true);\n                }}\n              >\n                {textLanguage[language].headerSwitcher.load}\n              </SwitcherItem>\n            </Switcher>\n          </HeaderPanel>\n          <AccountSelectionModal modalOpen={modalOpen} />\n          <HelpModal />\n          <CognosHelpModal />\n          <WarningModal />\n          <StandardDashboardModal />\n          <SuccessModal />\n        </>\n      )}\n    </Header>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport PropTypes from \"prop-types\";\nimport Rating from \"@mui/material/Rating\";\nimport SentimentVeryDissatisfiedIcon from \"@mui/icons-material/SentimentVeryDissatisfied\";\nimport SentimentDissatisfiedIcon from \"@mui/icons-material/SentimentDissatisfied\";\nimport SentimentSatisfiedIcon from \"@mui/icons-material/SentimentSatisfied\";\nimport SentimentSatisfiedAltIcon from \"@mui/icons-material/SentimentSatisfiedAltOutlined\";\nimport SentimentVerySatisfiedIcon from \"@mui/icons-material/SentimentVerySatisfied\";\nimport { createRows } from \"../../helpers/helpers\";\n\nconst customIcons = {\n  1: {\n    icon: <SentimentVeryDissatisfiedIcon />,\n    label: \"Very Dissatisfied\",\n  },\n  2: {\n    icon: <SentimentDissatisfiedIcon />,\n    label: \"Dissatisfied\",\n  },\n  3: {\n    icon: <SentimentSatisfiedIcon />,\n    label: \"Neutral\",\n  },\n  4: {\n    icon: <SentimentSatisfiedAltIcon />,\n    label: \"Satisfied\",\n  },\n  5: {\n    icon: <SentimentVerySatisfiedIcon />,\n    label: \"Very Satisfied\",\n  },\n};\n\nfunction IconContainer(props) {\n  const { value, ...other } = props;\n  return <span {...other}>{customIcons[value].icon}</span>;\n}\n\nIconContainer.propTypes = {\n  value: PropTypes.number.isRequired,\n};\n\nexport default function BasicRating({ conversationID, logID, defaultValue }) {\n  const { conversations, setConversations, setRowData } = useGlobalState();\n\n  function updateScore(newValue) {\n    conversations[conversationID].map((log) => {\n      if (log.LOGID === logID) {\n        log.SCORE = newValue;\n        createRows(conversations, setRowData);\n      }\n    });\n  }\n\n  return (\n    <Rating\n      name=\"highlight-selected-only\"\n      defaultValue={defaultValue}\n      IconContainerComponent={IconContainer}\n      highlightSelectedOnly\n      sx={{\n        \"& .MuiRating-iconFilled\": {\n          color: \"#0E61FE\",\n        },\n        \"& .MuiRating-iconEmpty\": {\n          color: \"#b5b5b5\",\n        },\n      }}\n      onChange={(e, newValue) => {\n        updateScore(newValue);\n      }}\n    />\n  );\n}\n","import BasicRating from \"../components/Rating\";\nimport api from \"../services/api\";\n\nexport function createRows(conversations, setRowData) {\n  let rowsAux = [];\n\n  Object.entries(conversations).map(([key, value]) => {\n    conversations[key].map((log) => {\n      let rowAux = {};\n\n      rowAux.id = log.LOGID;\n      rowAux.CONVERSATIONID = log.CONVERSATIONID;\n      rowAux.LOGID = log.LOGID;\n      rowAux.CLIENTMESSAGE = log.CLIENTMESSAGE;\n      rowAux.ASSISTANTMESSAGE = log.ASSISTANTMESSAGE;\n      rowAux.FIRSTINTENT = log.FIRSTINTENT;\n      rowAux.CLIENTTIMESTAMP = log.CLIENTTIMESTAMP;\n      rowAux.SCORE = (\n        <BasicRating\n          conversationID={log.CONVERSATIONID}\n          logID={log.LOGID}\n          defaultValue={log.SCORE}\n        />\n      );\n\n      rowsAux.push(rowAux);\n    });\n  });\n  setRowData(rowsAux);\n}\n\nexport async function getLogs(\n  connectionString,\n  tableName,\n  setConversations,\n  setConversationsByDay,\n  setIntentsByDay,\n  setDateFilter,\n  setSuccessOpen,\n  setLoading,\n  callback,\n  param\n) {\n  const response = await api.post(\"/getLogs\", {\n    connStr: connectionString,\n    table: tableName,\n  });\n  if (\n    response.data.conversations &&\n    Object.keys(response.data.conversations).length != 0\n  ) {\n    setSuccessOpen(true);\n    setConversations(response.data.conversations);\n    setDateFilter(Object.keys(response.data.conversationsByDay)[0]);\n    setConversationsByDay(response.data.conversationsByDay);\n    setIntentsByDay(response.data.intentsByDay);\n    setLoading(false);\n  } else {\n    callback(param);\n  }\n}\n\nexport async function sendScore(\n  conversations,\n  connectionString,\n  tableName,\n  setConversations\n) {\n  await api.post(\"/updateScore\", {\n    conversation: conversations,\n    connStr: connectionString,\n    table: tableName,\n  });\n\n  let updateRender = [];\n  Object.entries(conversations).map(([key, value]) => {\n    updateRender.push([key, value.filter((obj) => obj.SCORE === null)]);\n  });\n  updateRender = updateRender.filter(([key, value]) => value.length !== 0);\n\n  setConversations(Object.fromEntries(updateRender));\n}\n\nexport async function getCognosSession(username, password) {\n  return await api.post(\"/cognosSession\", {\n    username: username,\n    password: password,\n  });\n}\n\nexport async function sendToCloudant(\n  cloudantApi,\n  cloudantUrl,\n  cloudantDbName,\n  dashboardName,\n  cognosDashboard,\n  setWarningOpen\n) {\n  const response = await api.post(\"/insertDashboard\", {\n    apikey: cloudantApi,\n    url: cloudantUrl,\n    dbName: cloudantDbName,\n    docId: dashboardName,\n    document: cognosDashboard,\n  });\n  if (response.data.Error) {\n    setWarningOpen(true);\n    return response.data;\n  } else {\n    return response.data;\n  }\n}\n\nexport async function getFromCloudant(\n  ID,\n  cloudantApi,\n  cloudantUrl,\n  cloudantDbName,\n  setWarningOpen\n) {\n  const response = await api.post(\"/getDashboard\", {\n    apikey: cloudantApi,\n    url: cloudantUrl,\n    dbName: cloudantDbName,\n    docId: ID,\n  });\n\n  if (response.data.Error) {\n    setWarningOpen(true);\n    return response.data;\n  } else {\n    return response.data;\n  }\n}\n\nexport async function initializeSources(\n  xsd,\n  jdbcUrl,\n  driverClassName,\n  schema,\n  user,\n  password,\n  logsTable,\n  conversationTable,\n  callsTable,\n  contextTable,\n  conversationPathTable,\n  overviewTable,\n  classDistributionTable,\n  precisionAtKTable,\n  classAccuracyTable,\n  pairWiseClassErrorsTable,\n  accuracyVsCoverageTable\n) {\n  const response = await api.post(\"/initializeDashboard\", {\n    xsd: xsd,\n    jdbcUrl: jdbcUrl,\n    driverClassName: driverClassName,\n    schema: schema,\n    user: user,\n    password: password,\n    logsTable: logsTable,\n    conversationTable: conversationTable,\n    callsTable: callsTable,\n    contextTable: contextTable,\n    conversationPathTable: conversationPathTable,\n    overviewTable: overviewTable,\n    classDistributionTable: classDistributionTable,\n    precisionAtKTable: precisionAtKTable,\n    classAccuracyTable: classAccuracyTable,\n    pairWiseClassErrorsTable: pairWiseClassErrorsTable,\n    accuracyVsCoverageTable: accuracyVsCoverageTable,\n  });\n\n  delete response.data._id;\n  delete response.data._rev;\n\n  return response.data;\n}\n\nexport function generateConnectionString(credential) {\n  const credentials = credential.credentials.connection.db2;\n  return `DATABASE=${credentials.database};HOSTNAME=${credentials.hosts[0].hostname};PORT=${credentials.hosts[0].port};PROTOCOL=TCPIP;UID=${credentials.authentication.username};PWD=${credentials.authentication.password};SECURITY=SSL;`;\n}\n\nexport function registerLogin(docId, document) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      resolve(\n        await api.post(\"/registerLogin\", { docId: docId, document: document })\n      );\n    } catch (err) {\n      console.log(err);\n    }\n  });\n}\n\nexport const defaultValues = {\n  credentials: {\n    connectionString: null,\n    db2Username: null,\n    db2Password: null,\n    jdbcUrl: null,\n    cognosUsername: null,\n    cognosPassword: null,\n    cloudantApi: null,\n    cloudantUrl: null,\n  },\n  defaults: {\n    defaultDashboardName: null,\n    cloudantDbName: \"dashboards\",\n    xsd: \"https://ibm.com/daas/module/1.0/module.xsd\",\n    driverClassName: \"com.ibm.db2.jcc.DB2Driver\",\n    schema: \"CURATOR\",\n    logsTable: \"LOGS\",\n    conversationTable: \"CONVERSATIONS\",\n    callsTable: \"CALLS\",\n    contextTable: \"CONTEXTVARIABLES\",\n    conversationPathTable: \"CONVERSATIONPATH\",\n    overviewTable: \"OVERVIEW\",\n    classDistributionTable: \"CLASSDISTRIBUTION\",\n    precisionAtKTable: \"PRECISIONATK\",\n    classAccuracyTable: \"CLASSACCURACY\",\n    pairWiseClassErrorsTable: \"PAIRWISECLASSERRORS\",\n    accuracyVsCoverageTable: \"ACCURACYVSCOVERAGE\",\n  },\n};\n","import \"./style.css\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport {\n  DataTable,\n  TableContainer,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TableHeader,\n  TableToolbar,\n  TableToolbarContent,\n  Button,\n} from \"carbon-components-react\";\nimport { sendScore } from \"../../helpers/helpers\";\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nexport default function InfoTable({ ID, day, rowData }) {\n  const { conversations, setConversations, credentialsAndDefaults, language } =\n    useGlobalState();\n\n  const headerData = [\n    {\n      key: \"LOGID\",\n      header: \"logID\",\n    },\n    {\n      key: \"CLIENTMESSAGE\",\n      header: \"Client Message\",\n    },\n    {\n      key: \"ASSISTANTMESSAGE\",\n      header: \"Assistant Message\",\n    },\n    {\n      key: \"FIRSTINTENT\",\n      header: \"Intent identified\",\n    },\n    {\n      key: \"SCORE\",\n      header: \"Score (1 - 5)\",\n    },\n  ];\n\n  const filtered = rowData.filter((value) => {\n    if (day)\n      return (\n        (value.CONVERSATIONID === ID && value.CLIENTTIMESTAMP.includes(day)) ||\n        (value.FIRSTINTENT === ID && value.CLIENTTIMESTAMP.includes(day))\n      );\n    else return value.CONVERSATIONID === ID || value.FIRSTINTENT === ID;\n  });\n\n  return (\n    <DataTable\n      rows={filtered}\n      headers={headerData}\n      useZebraStyles\n      stickyHeader\n      size=\"compact\"\n    >\n      {({\n        rows,\n        headers,\n        getHeaderProps,\n        getTableProps,\n        getTableContainerProps,\n      }) => (\n        <TableContainer\n          title={`${textLanguage[language].infoTable.group}: ${\n            ID === \"\" ? \"-\" : ID\n          }`}\n          {...getTableContainerProps()}\n        >\n          <TableToolbar>\n            <TableToolbarContent>\n              <Button\n                onClick={() => {\n                  sendScore(\n                    conversations,\n                    credentialsAndDefaults.credentials.connectionString,\n                    credentialsAndDefaults.defaults.logsTable,\n                    setConversations\n                  );\n                }}\n              >\n                {textLanguage[language].infoTable.sendButton}\n              </Button>\n            </TableToolbarContent>\n          </TableToolbar>\n          <Table {...getTableProps()}>\n            <TableHead>\n              <TableRow>\n                {headers.map((header) => (\n                  <TableHeader {...getHeaderProps({ header })}>\n                    {header.header}\n                  </TableHeader>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {rows.map((row) => (\n                <TableRow key={row.id}>\n                  {row.cells.map((cell) => (\n                    <TableCell key={cell.id}>{cell.value}</TableCell>\n                  ))}\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      )}\n    </DataTable>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { Tabs, Tab } from \"carbon-components-react\";\nimport InfoTable from \"../InfoTable\";\nimport { useEffect, useState } from \"react\";\n\nexport default function BasicTabs() {\n  const { rowData, conversationsByDay, dateFilter, startIndex, endIndex } =\n    useGlobalState();\n\n  function createLabel(rowData, conversationID) {\n    if (rowData.length > 0) {\n      const foundConversation = rowData.filter(\n        (row) => row.CONVERSATIONID === conversationID\n      );\n      if (foundConversation.length > 0) {\n        const timeStamp = foundConversation[0].CLIENTTIMESTAMP.split(\" \");\n        return timeStamp[1].slice(0, 8);\n      }\n    }\n  }\n\n  return (\n    <>\n      <Tabs type=\"container\">\n        {conversationsByDay[dateFilter]\n          .slice(startIndex, endIndex)\n          .map((conversationID) => {\n            const label = createLabel(rowData, conversationID);\n            if (\n              Object.values(\n                conversationsByDay[dateFilter].slice(startIndex, endIndex)\n              ).indexOf(conversationID) === 0\n            ) {\n              return (\n                <Tab id={\"firstTab\"} label={label ? label : \"DONE!\"}>\n                  <InfoTable ID={conversationID} rowData={rowData} />\n                </Tab>\n              );\n            } else {\n              return (\n                <Tab id={conversationID} label={label ? label : \"DONE!\"}>\n                  <InfoTable ID={conversationID} rowData={rowData} />\n                </Tab>\n              );\n            }\n          })}\n      </Tabs>\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport {\n  Modal,\n  TextInput,\n  Select,\n  SelectItem,\n  Loading,\n} from \"carbon-components-react\";\nimport { getLogs, generateConnectionString } from \"../../helpers/helpers\";\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nimport { getResourceKeys } from \"../../helpers/apiCalls\";\n\nimport \"./style.css\";\n\nexport default function ConfigModal() {\n  const {\n    language,\n    configOpen,\n    setLoading,\n    setConfigOpen,\n    setWarningOpen,\n    setSuccessOpen,\n    credentialsAndDefaults,\n    setCredentialsAndDefaults,\n    setConversations,\n    setConversationsByDay,\n    setIntentsByDay,\n    setDateFilter,\n    resources,\n    accountLoading,\n  } = useGlobalState();\n\n  const [selectedInstance, setSelectedInstance] = useState(null);\n\n  const [selectedCredential, setSelectedCredential] = useState(null);\n\n  useEffect(() => {\n    setSelectedInstance(resources.db2.body.resources[0]);\n  }, [resources]);\n\n  useEffect(async () => {\n    if (selectedInstance) {\n      const resourceKeys = await getResourceKeys(selectedInstance.guid);\n      setSelectedCredential(resourceKeys.resources[0]);\n    }\n  }, [selectedInstance]);\n\n  async function handleSubmit() {\n    setWarningOpen(false);\n    setSuccessOpen(false);\n    setConfigOpen(false);\n    setLoading(true);\n\n    const connStr = generateConnectionString(selectedCredential);\n    let temp = { ...credentialsAndDefaults };\n    temp.credentials.connectionString = connStr;\n    setCredentialsAndDefaults(temp);\n    await getLogs(\n      connStr,\n      credentialsAndDefaults.defaults.logsTable,\n      setConversations,\n      setConversationsByDay,\n      setIntentsByDay,\n      setDateFilter,\n      setSuccessOpen,\n      setLoading,\n      noConnection,\n      \"\"\n    );\n  }\n\n  function noConnection() {\n    setConversations({});\n    setWarningOpen(true);\n    setLoading(false);\n  }\n\n  return !accountLoading ? (\n    <Modal\n      open={configOpen}\n      modalHeading={textLanguage[language].modal.heading}\n      modalLabel={textLanguage[language].modal.label}\n      primaryButtonText={textLanguage[language].modal.primaryText}\n      secondaryButtonText={textLanguage[language].modal.secondaryText}\n      onRequestClose={() => {\n        setConfigOpen(false);\n      }}\n      onRequestSubmit={handleSubmit}\n      preventCloseOnClickOutside\n    >\n      <Select\n        id=\"select-1\"\n        invalidText=\"A valid value is required\"\n        labelText={textLanguage[language].modal.inputLabel1}\n        onChange={(e) => {\n          if (e.target.value === \"placeholder\")\n            alert(textLanguage[language].modal.alert);\n          else setSelectedInstance(JSON.parse(e.target.value));\n        }}\n      >\n        <SelectItem\n          text={textLanguage[language].modal.selectAnOption}\n          value=\"placeholder\"\n        />\n        {resources.db2.body.resources.map((resource) => (\n          <SelectItem text={resource.name} value={JSON.stringify(resource)} />\n        ))}\n      </Select>\n\n      <TextInput\n        data-modal-primary-focus\n        id=\"text-input-2\"\n        labelText={textLanguage[language].modal.inputLabel2}\n        placeholder={credentialsAndDefaults.defaults.logsTable}\n        style={{ marginBottom: \"1rem\" }}\n        onChange={(e) => {\n          let temp = { ...credentialsAndDefaults };\n          temp.defaults.logsTable = e.target.value.toUpperCase();\n          setCredentialsAndDefaults(temp);\n        }}\n      />\n    </Modal>\n  ) : (\n    <Loading />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { Pagination } from \"carbon-components-react\";\nimport Languages from \"../../helpers/languagesConfig\";\nimport { useGlobalState } from \"../../hooks/globalState\";\n\nexport default function PaginationComponent() {\n  const {\n    conversationsByDay,\n    dateFilter,\n    itensPerPage,\n    setItensPerPage,\n    currentPage,\n    setCurrentPage,\n    language,\n  } = useGlobalState();\n\n  function selectFirstTab() {\n    const firstTab = document.getElementById(\"firstTab\");\n    if (firstTab) firstTab.click();\n  }\n\n  return (\n    <footer id=\"pagination\">\n      <Pagination\n        itemsPerPageText={Languages[language].tabs.itensPerPage}\n        page={currentPage}\n        pageNumberText=\"Page Number\"\n        pageSize={itensPerPage}\n        pageSizes={[9]}\n        totalItems={conversationsByDay[dateFilter].length}\n        onChange={(data) => {\n          setCurrentPage(data.page);\n          setItensPerPage(data.pageSize);\n          selectFirstTab();\n        }}\n      />\n    </footer>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Pagination, Button } from \"carbon-components-react\";\nimport { PageLast32, PageFirst32 } from \"@carbon/icons-react\";\n\nimport Languages from \"../../helpers/languagesConfig\";\nimport { useGlobalState } from \"../../hooks/globalState\";\n\nexport default function PaginationComponent() {\n  const {\n    conversationsByDay,\n    dateFilter,\n    setDateFilter,\n    setCurrentPage,\n    language,\n  } = useGlobalState();\n\n  const [dateToShow, setDateToShow] = useState(\"\");\n  useEffect(() => {\n    setDateToShow(dateFilter.split(\"-\").reverse().join(\"/\"));\n  }, [dateFilter]);\n\n  function previousDate() {\n    setDateFilter(\n      Object.keys(conversationsByDay)[\n        Object.keys(conversationsByDay).indexOf(dateFilter) - 1\n      ]\n    );\n    selectFirstTab();\n    setCurrentPage(1);\n  }\n  function nextDate() {\n    setDateFilter(\n      Object.keys(conversationsByDay)[\n        Object.keys(conversationsByDay).indexOf(dateFilter) + 1\n      ]\n    );\n    selectFirstTab();\n    setCurrentPage(1);\n  }\n  function selectFirstTab() {\n    const firstTab = document.getElementById(\"firstTab\");\n    if (firstTab) firstTab.click();\n  }\n  return (\n    <>\n      <div id=\"leftButtons\">\n        <Button\n          kind=\"ghost\"\n          hasIconOnly\n          iconDescription=\"Previous Date\"\n          renderIcon={PageFirst32}\n          onClick={() => {\n            previousDate();\n          }}\n          disabled={\n            Object.keys(conversationsByDay).indexOf(dateFilter) === 0\n              ? true\n              : false\n          }\n        />\n      </div>\n      <div id=\"dateText\">{`${dateToShow}`}</div>\n      <div id=\"rightButtons\">\n        <Button\n          kind=\"ghost\"\n          hasIconOnly\n          iconDescription=\"Next Date\"\n          renderIcon={PageLast32}\n          onClick={() => {\n            nextDate();\n          }}\n          disabled={\n            Object.keys(conversationsByDay).indexOf(dateFilter) ===\n            Object.keys(conversationsByDay).length - 1\n              ? true\n              : false\n          }\n        />\n      </div>\n    </>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport \"carbon-components/css/carbon-components.min.css\";\nimport Header from \"../../components/Header\";\nimport BasicTabs from \"../../components/Tabs\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport { createRows, getLogs } from \"../../helpers/helpers\";\nimport { TabsSkeleton, DataTableSkeleton } from \"carbon-components-react\";\n\nimport ConfigModal from \"../../components/ConfigModal\";\nimport PaginationComponent from \"../../components/PaginationComponent\";\nimport DateChooser from \"../../components/DateChooser\";\n\nimport \"./style.css\";\n\nexport default function Dashboard() {\n  const {\n    history,\n    account,\n    setLanguage,\n    setLoading,\n    loading,\n    setHelpOpen,\n    setConfigOpen,\n    setSuccessOpen,\n    setWarningOpen,\n    setRowData,\n    conversations,\n    setConversations,\n    setConversationsByDay,\n    setIntentsByDay,\n    setDateFilter,\n    credentialsAndDefaults,\n    setCognosSession,\n    setAccountModalOpen,\n  } = useGlobalState();\n\n  useEffect(() => {\n    if (account.entity.name === \"\") history.push(\"/login\");\n  }, []);\n\n  useEffect(async () => {\n    const storedLanguage = localStorage.getItem(\"language\");\n    if (storedLanguage) setLanguage(storedLanguage);\n\n    setSuccessOpen(false);\n    setWarningOpen(false);\n    setCognosSession(null);\n\n    if (conversations.length === 0)\n      await getLogs(\n        credentialsAndDefaults.credentials.connectionString,\n        credentialsAndDefaults.defaults.logsTable,\n        setConversations,\n        setConversationsByDay,\n        setIntentsByDay,\n        setDateFilter,\n        setSuccessOpen,\n        setLoading,\n        setAccountModalOpen,\n        true\n      );\n  }, []);\n\n  useEffect(() => {\n    createRows(conversations, setRowData);\n  }, [conversations]);\n\n  return (\n    <div id=\"content\">\n      <Header modalOpen={setConfigOpen} helpOpen={setHelpOpen} />\n      <ConfigModal />\n      {loading ? (\n        <>\n          <TabsSkeleton type=\"container\" />\n          <DataTableSkeleton />\n        </>\n      ) : (\n        <>\n          <div id=\"dateChooser\">\n            <DateChooser />\n          </div>\n          <BasicTabs />\n          <div id=\"footer\">\n            <div id=\"pagination\">\n              <PaginationComponent />\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport \"carbon-components/css/carbon-components.min.css\";\nimport Header from \"../../components/Header\";\nimport { useGlobalState } from \"../../hooks/globalState\";\n\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionSkeleton,\n  Search,\n} from \"carbon-components-react\";\n\nimport InfoTable from \"../../components/InfoTable\";\nimport DateChooser from \"../../components/DateChooser\";\n\nimport { getLogs, groupByIntent, createRows } from \"../../helpers/helpers\";\n\nimport ConfigModal from \"../../components/ConfigModal\";\n\nimport \"./style.css\";\n\nexport default function SearchPage() {\n  const {\n    account,\n    history,\n    setLanguage,\n    loading,\n    setLoading,\n    setHelpOpen,\n    setConfigOpen,\n    setSuccessOpen,\n    setWarningOpen,\n    conversations,\n    setConversations,\n    setConversationsByDay,\n    intentsByDay,\n    setIntentsByDay,\n    dateFilter,\n    setDateFilter,\n    rowData,\n    setRowData,\n    credentialsAndDefaults,\n    setCognosSession,\n  } = useGlobalState();\n\n  const [searchValue, setSearchValue] = useState(\"\");\n\n  useEffect(() => {\n    if (account.entity.name === \"\") history.push(\"/login\");\n  }, []);\n\n  useEffect(async () => {\n    const storedLanguage = localStorage.getItem(\"language\");\n    if (storedLanguage) setLanguage(storedLanguage);\n\n    setSuccessOpen(false);\n    setWarningOpen(false);\n    setCognosSession(null);\n\n    if (conversations.length === 0)\n      await getLogs(\n        credentialsAndDefaults.credentials.connectionString,\n        credentialsAndDefaults.defaults.logsTable,\n        setConversations,\n        setConversationsByDay,\n        setIntentsByDay,\n        setDateFilter,\n        setSuccessOpen,\n        setLoading,\n        setConfigOpen,\n        true\n      );\n  }, []);\n\n  useEffect(() => {\n    createRows(conversations, setRowData);\n  }, [conversations]);\n\n  const props = () => ({\n    className: \"some-class\",\n    size: \"xl\",\n    light: false,\n    disabled: false,\n    defaultValue: \"\",\n    labelText: \"Search\",\n    placeholder: \"Search\",\n  });\n\n  return (\n    <div id=\"search-page\">\n      <div id=\"top\">\n        <Header\n          id=\"header-search\"\n          modalOpen={setConfigOpen}\n          helpOpen={setHelpOpen}\n        />\n        <div id=\"dateChooser\">\n          <DateChooser />\n        </div>\n        <Search\n          {...props()}\n          id=\"searchBar\"\n          onChange={(e) => {\n            if (!e.target.value) {\n              setSearchValue(\"\");\n            } else {\n              setSearchValue(e.target.value);\n            }\n          }}\n        />\n      </div>\n      <ConfigModal />\n\n      {loading ? (\n        <AccordionSkeleton />\n      ) : (\n        <div id=\"accords\">\n          <Accordion>\n            {intentsByDay[dateFilter].map((intent) =>\n              intent\n                .toLowerCase()\n                .replace(/\\s/g, \"\")\n                .includes(searchValue.toLowerCase().replace(/\\s/g, \"\")) ? (\n                <AccordionItem title={intent === \"\" ? \"-\" : intent}>\n                  <InfoTable ID={intent} day={dateFilter} rowData={rowData} />\n                </AccordionItem>\n              ) : (\n                \"\"\n              )\n            )}\n          </Accordion>\n        </div>\n      )}\n    </div>\n  );\n}\n","(\"use strict\");\n\nvar _typeof =\n  typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n    ? function (obj) {\n        return typeof obj;\n      }\n    : function (obj) {\n        return obj &&\n          typeof Symbol === \"function\" &&\n          obj.constructor === Symbol &&\n          obj !== Symbol.prototype\n          ? \"symbol\"\n          : typeof obj;\n      };\n\nvar _createClass = (function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar INIT_TIMEOUT = 30000;\n\nvar CognosApi = (function () {\n  function CognosApi(options) {\n    _classCallCheck(this, CognosApi);\n\n    if (!options || !options.node) {\n      throw new Error(\n        \"Invalid options parameter passed into the constructor. Must provide both options.node and options.cognosRootURL in the options parameter.\"\n      );\n    }\n\n    this._node = options.node;\n    this._cognosURL = options.cognosRootURL;\n    this._testURL = options.testURL;\n    this._sessionCode = options.sessionCode;\n    this._initTimeout = options.initTimeout || INIT_TIMEOUT;\n\n    this._apiKey = CognosApi._createUID(\"capi\");\n    this._pendingRequests = {};\n    this._eventCallbacks = {};\n    this._eventReverseLookup = {};\n\n    if (options.language && typeof options.language === \"string\") {\n      var language = options.language.toLowerCase();\n      if (CognosApi.SUPPORTED_LANGUAGES[language]) {\n        this._language = language;\n      } else {\n        throw new Error(\"Unsupported language: \" + language);\n      }\n    } else {\n      this._language = \"en\";\n    }\n\n    // regular expression validate the incoming message header\n    this._message_regex = new RegExp(\n      \"#capi#(.+)#\" + this._apiKey + \"#(.*)$\",\n      \"g\"\n    );\n\n    /**\n     * Allows the caller to update the module definitions inside the dashboard specification\n     * @memberof CognosApi\n     * @function CognosApi#updateModuleDefinitions\n     * @param {String} dashboardSpec The dashboard specification\n     * @param {Function} callback A callback method which will be called with an array of module IDs.  This callback should return an array of objects containing the module ID (id) and the new module definition (module).\n     * @return {Promise} Promise that gets resolved with the updated dashboard specification\n     * @example\n     * const cognosApi = new CognosApi({\n     * \tcognosRootURL: 'http://localhost/bi/',\n     * \tnode: document.getElementById('containerDivId'),\n     *\tsessionCode: 'CD1a2b34567b8c901234d5',\n     *\tlanguage: 'en'\n     * });\n     *\n     * cognosApi.initialize().then(() => {\n     * \tconsole.log(cognosApi.dashboard);\n     * });\n     *\n     * cognosApi.updateModuleDefinitions(oldDashboardSpec, (moduleIds) => {\n     * \t// Implement the callback that returns an array of the new module definitions.\n     * \t// The array of module definitions corresponds to the array of moduleIds\n     * \treturn Promise.resolve(newModules);\n     * }).then((newDashboardSpec) => {\n     *\tconsole.log(newDashboardSpec);\n     * });\n     */\n    this.updateModuleDefinitions =\n      CognosApi._updateModuleDefinitions.bind(this);\n  }\n\n  _createClass(\n    CognosApi,\n    [\n      {\n        key: \"initialize\",\n        value: function initialize() {\n          var _this = this;\n\n          if (!this._readyPromise) {\n            this._readyPromise = new Promise(function (resolve, reject) {\n              // setup the initialize timeout\n              // var timeout = setTimeout(\n              //   _this._onInitTimeout.bind(_this, reject),\n              //   _this._initTimeout\n              // );\n\n              // create the API service container\n              _this._initializeContainer();\n              // initialize the API service\n              _this._initializeService().then(function () {\n                // clear the init timeout\n                // clearTimeout(timeout);\n\n                // wait for the APIs to be initialized\n                _this._sendMessage(\n                  {\n                    apiId: _this._apiKey,\n                    actionId: CognosApi._createUID(CognosApi.APISERVICE_INIT),\n                    name: CognosApi.APISERVICE_INIT,\n                  },\n                  resolve,\n                  reject\n                );\n              });\n            });\n          }\n          return this._readyPromise;\n        },\n\n        /**\n         * Attach an {@link CognosApi#EVENTS event} handler function for the root CognosApi\n         * @memberof CognosApi\n         * @function CognosApi#on\n         * @param {string} eventName - name of the event\n         * @callback cb - event handler callback\n         */\n      },\n      {\n        key: \"on\",\n        value: function on(eventName, cb) {\n          if (!this._eventReverseLookup[cb]) {\n            this._sendMessage(\n              {\n                apiId: this._apiKey,\n                actionId: CognosApi._createUID(CognosApi.APISERVICE_ON),\n                name: CognosApi.APISERVICE_ON,\n                parameters: Array.prototype.slice.call(arguments),\n              },\n              cb\n            );\n          }\n        },\n\n        /**\n         * Dettach an {@link CognosApi#EVENTS event} handler function for the root CognosApi\n         * @memberof CognosApi\n         * @function CognosApi#on\n         * @param {string} eventName - name of the event\n         * @callback cb - event handler callback\n         */\n      },\n      {\n        key: \"off\",\n        value: function off(eventName, cb) {\n          if (this._eventReverseLookup[cb]) {\n            this._sendMessage(\n              {\n                apiId: this._apiKey,\n                actionId: this._eventReverseLookup[cb],\n                name: CognosApi.APISERVICE_OFF,\n                parameters: Array.prototype.slice.call(arguments),\n              },\n              cb\n            );\n          }\n        },\n\n        /**\n         * initialization timeout handler\n         * @private\n         */\n      },\n      // {\n      //   key: \"_onInitTimeout\",\n      //   value: function _onInitTimeout(reject) {\n      //     this._cleanupContainer();\n      //     reject(\n      //       new Error(\"Initialization timeout. \" + this._initTimeout + \"ms\")\n      //     );\n      //   },\n\n      //   /**\n      //    * Initialize the CAPI service container\n      //    * @private\n      //    */\n      // },\n      {\n        key: \"_initializeContainer\",\n        value: function _initializeContainer() {\n          var container = document.createElement(\"iframe\");\n\n          container.src = this._buildSourceUrl();\n          container.setAttribute(\"class\", CognosApi.APISERVICE_CLASS);\n          container.setAttribute(\"style\", \"height:100%; width:100%;\");\n          container.setAttribute(\"frameBorder\", \"0\");\n\n          // append the container to the root node\n          this._node.innerHTML = \"\";\n          this._node.appendChild(container);\n\n          // keep the iframe contentWindow as the messaging target\n          this._target = container.contentWindow;\n          this._targetOrigin = (/(https*:\\/\\/[^\\/]+)/.exec(this._cognosURL) || [\n            window.location.origin,\n          ])[0]; // eslint-disable-line\n        },\n\n        /**\n         * Closes the CognosApi client.\n         * @memberof CognosApi\n         * @function CognosApi#close\n         * @return {Promise} Promise that gets resolved with a Api instance is successfully closed\n         * @example\n         * const cognosApi = new CognosApi({\n         * \tcognosRootURL: 'http://localhost/bi/',\n         * \tnode: document.getElementById('containerDivId'),\n         *\tsessionCode: 'CD1a2b34567b8c901234d5',\n         *\tlanguage: 'en'\n         * });\n         * ...\n         * cognosApi.close();\n         */\n      },\n      {\n        key: \"close\",\n        value: function close() {\n          var _this2 = this;\n\n          return new Promise(function (resolve, reject) {\n            _this2._destroyService().then(\n              function (obj) {\n                // remove all injected apis\n                _this2._cleanupApiService();\n                // clean up the container node\n                _this2._cleanupContainer();\n                resolve(obj);\n              },\n              function (err) {\n                reject(err);\n              }\n            );\n          });\n        },\n      },\n      {\n        key: \"_buildSourceUrl\",\n        value: function _buildSourceUrl() {\n          if (this._testURL) {\n            return this._testURL;\n          } else {\n            var root =\n              this._cognosURL +\n              (this._cognosURL.indexOf(\"?\") === -1 ? \"?\" : \"&\");\n            var params = {\n              perspective: \"postMessageApiLoader\",\n              apiKey: this._apiKey,\n              parentOrigin: window.location.origin,\n              sessionCode: this._sessionCode,\n              contentLanguage: this._language,\n            };\n            return (\n              root +\n              Object.keys(params)\n                .map(function (k) {\n                  return (\n                    encodeURIComponent(k) + \"=\" + encodeURIComponent(params[k])\n                  );\n                })\n                .join(\"&\")\n            );\n          }\n        },\n\n        /**\n         * Clean up the injected apis\n         * @private\n         */\n      },\n      {\n        key: \"_cleanupApiService\",\n        value: function _cleanupApiService() {\n          var _this3 = this;\n\n          // remove the message handler\n          if (this._messageHandler) {\n            window.removeEventListener(\"message\", this._messageHandler, false);\n          }\n\n          // clean up all apis\n          Object.keys(this).forEach(function (memberName) {\n            if (\n              memberName.indexOf(\"_\") !== 0 &&\n              _typeof(_this3[memberName]) === \"object\" &&\n              _this3[memberName].apiId\n            ) {\n              delete _this3[memberName];\n            }\n          });\n\n          this._pendingRequests = {};\n          this._eventCallbacks = {};\n          this._eventReverseLookup = {};\n          this._messageHandler = null;\n          this.apiId = null;\n        },\n\n        /**\n         * Clean up the iframe container\n         * @private\n         */\n      },\n      {\n        key: \"_cleanupContainer\",\n        value: function _cleanupContainer() {\n          if (this._node) {\n            var iframes =\n              this._node.getElementsByClassName(CognosApi.APISERVICE_CLASS) ||\n              [];\n            if (iframes.length === 1) {\n              this._node.removeChild(iframes[0]);\n            }\n          }\n\n          this._readyPromise = null;\n          this._targetOrigin = null;\n          this._target = null;\n        },\n\n        /**\n         * Wait for the CognosApi service to initialize\n         * @private\n         * @return {Promise} Promise that gets resolved when the CognosApi service initialization is complete\n         */\n      },\n      {\n        key: \"_initializeService\",\n        value: function _initializeService() {\n          var _this4 = this;\n\n          this._messageHandler = this._receiveMessage.bind(this);\n          window.addEventListener(\"message\", this._messageHandler, false);\n\n          return new Promise(function (resolve, reject) {\n            _this4._registerResponseCallbacks(_this4._apiKey, resolve, reject);\n          });\n        },\n\n        /**\n         * Make a request to destroy the service\n         * @private\n         * @return {Promise} Promise that gets resolved when the service finishes terminate\n         */\n      },\n      {\n        key: \"_destroyService\",\n        value: function _destroyService() {\n          var _this5 = this;\n\n          return new Promise(function (resolve, reject) {\n            _this5._sendMessage(\n              {\n                apiId: _this5._apiKey,\n                actionId: CognosApi._createUID(CognosApi.APISERVICE_DESTROY),\n                name: CognosApi.APISERVICE_DESTROY,\n              },\n              resolve,\n              reject\n            );\n          });\n        },\n\n        /**\n         * Register the Promise callbacks that are created for each postMessage requests\n         * @private\n         * @param {string} identifier that uniquely identifies a single postMessage request\n         * @param {function} callback function to be used when the postMessage response comes back successfully\n         * @param {function} callback function to be used when the postMessage response comes back as a failure\n         */\n      },\n      {\n        key: \"_registerResponseCallbacks\",\n        value: function _registerResponseCallbacks(id, success, fail) {\n          if (id && success) {\n            this._pendingRequests[id] = {\n              success: success,\n              fail: fail,\n            };\n          }\n        },\n\n        /**\n         * Invoke the resolve callback for the request that has returned successfully\n         * @private\n         * @param {string} identifier that uniquely identifies a single postMessage request\n         * @param {any} the resolved value\n         */\n      },\n      {\n        key: \"_resolveResponseCallbacks\",\n        value: function _resolveResponseCallbacks(id, obj) {\n          if (id && this._pendingRequests[id]) {\n            this._pendingRequests[id].success(obj);\n            delete this._pendingRequests[id];\n          }\n        },\n\n        /**\n         * Invoke the reject callback for the request that has returned as a failure\n         * @private\n         * @param {string} identifier that uniquely identifies a single postMessage request\n         * @param {object} the error object\n         */\n      },\n      {\n        key: \"_rejectResponseCallbacks\",\n        value: function _rejectResponseCallbacks(id, obj) {\n          if (id && this._pendingRequests[id]) {\n            this._pendingRequests[id].fail(obj);\n            delete this._pendingRequests[id];\n          }\n        },\n\n        /**\n         * Register an event callback\n         * @private\n         */\n      },\n      {\n        key: \"_registerEventCallbacks\",\n        value: function _registerEventCallbacks(id, callback) {\n          if (id && callback) {\n            this._eventCallbacks[id] = callback;\n            this._eventReverseLookup[callback] = id;\n          }\n        },\n\n        /**\n         * Unregister an event callback\n         * @private\n         */\n      },\n      {\n        key: \"_unregisterEventCallbacks\",\n        value: function _unregisterEventCallbacks(id, callback) {\n          if (id && callback && this._eventReverseLookup[callback] === id) {\n            delete this._eventCallbacks[id];\n            delete this._eventReverseLookup[callback];\n          }\n        },\n\n        /**\n         * Handle event by invoking the corresponding callback\n         * @private\n         */\n      },\n      {\n        key: \"_handleEventCallbacks\",\n        value: function _handleEventCallbacks(id, obj) {\n          if (id && typeof this._eventCallbacks[id] === \"function\") {\n            this._eventCallbacks[id].call(this._eventCallbacks[id], obj);\n          }\n        },\n\n        /**\n         * Invoke a postMessage to the target window.\n         * Callbacks are registered which gets invoked when the corresponding response is returned\n         * @private\n         * @param {object} Payload object to be post to the target window\n         * @param {function} Resolve callback function\n         * @param {function} Reject callback function\n         */\n      },\n      {\n        key: \"_sendMessage\",\n        value: function _sendMessage(obj, success, fail) {\n          if (this._target) {\n            if (obj.name === \"on\") {\n              this._registerEventCallbacks(obj.actionId, success);\n            } else if (obj.name === \"off\") {\n              this._unregisterEventCallbacks(obj.actionId, success);\n            } else {\n              this._registerResponseCallbacks(obj.actionId, success, fail);\n            }\n            this._target.postMessage(\n              this._createMessage(obj),\n              this._targetOrigin\n            );\n          }\n        },\n\n        /**\n         * Message event handler to handle messages posted by the inner iframe\n         * @private\n         * @param {object} Event object\n         */\n      },\n      {\n        key: \"_receiveMessage\",\n        value: function _receiveMessage(event) {\n          // Only accept message from the iframe we know about\n          if (event.origin !== this._targetOrigin) {\n            return;\n          }\n          var obj = this._parseMessage(event.data);\n          if (obj !== null) {\n            if (!obj.status || obj.status === \"success\") {\n              switch (obj.type) {\n                case \"ready\":\n                  this._resolveResponseCallbacks(this._apiKey);\n                  break;\n                case \"api\":\n                  // eslint-disable-line\n                  // expand the api response by either injecting to the API to the root or creating an new API object\n                  var resolvedAPI =\n                    obj.actionId.indexOf(CognosApi.APISERVICE_INIT) === 0\n                      ? this\n                      : {};\n                  this._injectAPI(resolvedAPI, obj.payload);\n                  this._resolveResponseCallbacks(obj.actionId, resolvedAPI);\n                  break;\n                case \"event\":\n                  this._handleEventCallbacks(obj.actionId, obj.payload);\n                  break;\n                default:\n                  // simply resolve with the raw payload\n                  this._resolveResponseCallbacks(obj.actionId, obj.payload);\n              }\n            } else {\n              this._rejectResponseCallbacks(obj.actionId, obj.payload);\n            }\n          }\n        },\n\n        /**\n         * Create a message with the CAPI header prepended to the message\n         * @private\n         * @param {object} Payload object\n         */\n      },\n      {\n        key: \"_createMessage\",\n        value: function _createMessage(obj) {\n          return (\n            CognosApi.APIHEADER +\n            CognosApi.APIHEADER_DELIMITER +\n            this._apiKey +\n            CognosApi.APIHEADER_DELIMITER +\n            JSON.stringify(obj)\n          );\n        },\n\n        /**\n         * Parse the response message.\n         * @private\n         * @return Response payload object\n         */\n      },\n      {\n        key: \"_parseMessage\",\n        value: function _parseMessage(data) {\n          var result = this._message_regex.exec(data);\n          if (\n            (typeof result === \"undefined\" ? \"undefined\" : _typeof(result)) ===\n              \"object\" &&\n            result !== null\n          ) {\n            this._message_regex.lastIndex = 0;\n            return JSON.parse(result[2]);\n          }\n          return null;\n        },\n\n        /**\n         * Inject the API spec returned by the API service to the client API object\n         * @private\n         * @param {object} client API object\n         * @param {object} API spec that describes an API\n         */\n      },\n      {\n        key: \"_injectAPI\",\n        value: function _injectAPI(api, apiSpec) {\n          var _this6 = this;\n\n          Object.keys(apiSpec).forEach(function (memberName) {\n            if (memberName === \"apiId\") {\n              api[memberName] = apiSpec[memberName];\n            } else if (apiSpec[memberName].apiId) {\n              // new nested API needs to built recursively\n              api[memberName] = {};\n              _this6._injectAPI(api[memberName], apiSpec[memberName]);\n            } else {\n              if (apiSpec[memberName].type === \"enum\") {\n                api[memberName] = apiSpec[memberName].values;\n              } else if (apiSpec[memberName].type === \"method\") {\n                api[memberName] = _this6._getAPIMethod(\n                  memberName,\n                  apiSpec.apiId\n                );\n              }\n            }\n          });\n        },\n\n        /**\n         * Generate an API proxy method to be injected to the client API object\n         * @private\n         * @param {string} Method name\n         * @param {string} Identifier of the API\n         */\n      },\n      {\n        key: \"_getAPIMethod\",\n        value: function _getAPIMethod(methodName, apiId) {\n          var _this7 = this;\n\n          // predefined event on/off methods\n          if (methodName === \"on\") {\n            return function () {\n              for (\n                var _len = arguments.length, args = Array(_len), _key = 0;\n                _key < _len;\n                _key++\n              ) {\n                args[_key] = arguments[_key];\n              }\n\n              var params = Array.prototype.slice.call(args);\n              var callback = params[1];\n              _this7._sendMessage(\n                {\n                  apiId: apiId,\n                  actionId: CognosApi._createUID(methodName),\n                  name: methodName,\n                  parameters: params,\n                },\n                callback,\n                callback\n              );\n            };\n          } else if (methodName === \"off\") {\n            return function () {\n              for (\n                var _len2 = arguments.length, args = Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n              ) {\n                args[_key2] = arguments[_key2];\n              }\n\n              var params = Array.prototype.slice.call(args);\n              var callback = params[1];\n              _this7._sendMessage(\n                {\n                  apiId: apiId,\n                  actionId: _this7._eventReverseLookup[callback],\n                  name: methodName,\n                  parameters: params,\n                },\n                callback,\n                callback\n              );\n            };\n          }\n\n          // general api methods\n          return function () {\n            for (\n              var _len3 = arguments.length, args = Array(_len3), _key3 = 0;\n              _key3 < _len3;\n              _key3++\n            ) {\n              args[_key3] = arguments[_key3];\n            }\n\n            var params = Array.prototype.slice.call(args);\n            return new Promise(function (resolve, reject) {\n              _this7._sendMessage(\n                {\n                  apiId: apiId,\n                  actionId: CognosApi._createUID(methodName),\n                  name: methodName,\n                  parameters: params,\n                },\n                resolve,\n                reject\n              );\n            });\n          };\n        },\n\n        /**\n         * Static private method to to update the modules in the dashboard spec.\n         * @static\n         * @private\n         */\n      },\n    ],\n    [\n      {\n        key: \"_updateModuleDefinitions\",\n        value: function _updateModuleDefinitions(dashboardSpec, callback) {\n          if (\n            !dashboardSpec ||\n            !dashboardSpec.dataSources ||\n            !dashboardSpec.dataSources.sources\n          ) {\n            return Promise.resolve(dashboardSpec);\n          }\n\n          var moduleClientIds = [];\n          dashboardSpec.dataSources.sources.forEach(function (source) {\n            if (source.clientId) {\n              moduleClientIds.push(source.clientId);\n            }\n          });\n\n          if (moduleClientIds.length === 0) {\n            return Promise.resolve(dashboardSpec);\n          }\n\n          var result = callback(moduleClientIds);\n          if (result && typeof result.then === \"function\") {\n            return result.then(function (newModules) {\n              return CognosApi._doModuleUpdate(dashboardSpec, newModules);\n            });\n          }\n\n          return Promise.resolve(\n            CognosApi._doModuleUpdate(dashboardSpec, result)\n          );\n        },\n\n        /**\n         * Static private method to to update the modules in the dashboard spec.\n         * @static\n         * @private\n         */\n      },\n      {\n        key: \"_doModuleUpdate\",\n        value: function _doModuleUpdate(dashboardSpec, newModules) {\n          var cloneDashboardSpec = JSON.parse(JSON.stringify(dashboardSpec));\n          if (newModules) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (\n                var _iterator =\n                    cloneDashboardSpec.dataSources.sources[Symbol.iterator](),\n                  _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n              ) {\n                var source = _step.value;\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                  for (\n                    var _iterator2 = newModules[Symbol.iterator](), _step2;\n                    !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next())\n                      .done);\n                    _iteratorNormalCompletion2 = true\n                  ) {\n                    var newModule = _step2.value;\n\n                    if (newModule.id === source.clientId) {\n                      if (newModule.module) {\n                        source.module = newModule.module;\n                      }\n                      if (newModule.name) {\n                        source.name = newModule.name;\n                      }\n                      if (newModule.newId && newModule.id !== newModule.newId) {\n                        source.clientId = newModule.newId;\n                      }\n                    }\n                  }\n                } catch (err) {\n                  _didIteratorError2 = true;\n                  _iteratorError2 = err;\n                } finally {\n                  try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                      _iterator2.return();\n                    }\n                  } finally {\n                    if (_didIteratorError2) {\n                      throw _iteratorError2;\n                    }\n                  }\n                }\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n          }\n\n          return cloneDashboardSpec;\n        },\n\n        /**\n         * Static private method to create an unique identifier prepended with a give name\n         * @static\n         * @private\n         */\n      },\n      {\n        key: \"_createUID\",\n        value: function _createUID(prepend) {\n          var uid = Date.now().valueOf();\n          CognosApi.__uid = CognosApi.__uid === uid ? uid + 1 : uid;\n          return prepend + \"_\" + CognosApi.__uid.toString(16);\n        },\n      },\n    ]\n  );\n\n  return CognosApi;\n})();\n\nCognosApi.EVENTS = {\n  /** Request error events.<br>\n Allows users to receive HTTP request error events. */\n  REQUEST_ERROR: \"api:error:request\",\n};\n\n/**\n * Constant for Api message header and initialization\n * @private\n */\nCognosApi.APIHEADER_DELIMITER = \"#\";\nCognosApi.APIHEADER_MARKER = \"capi\";\nCognosApi.APIHEADER_VERSION = \"v1\";\nCognosApi.APIHEADER =\n  CognosApi.APIHEADER_DELIMITER +\n  CognosApi.APIHEADER_MARKER +\n  CognosApi.APIHEADER_DELIMITER +\n  CognosApi.APIHEADER_VERSION;\n\nCognosApi.APISERVICE_INIT = \"getAppApi\";\nCognosApi.APISERVICE_ON = \"on\";\nCognosApi.APISERVICE_OFF = \"off\";\nCognosApi.APISERVICE_DESTROY = \"destroyAppApi\";\nCognosApi.APISERVICE_CLASS = \"capi-service\";\n\nCognosApi.SUPPORTED_LANGUAGES = Object.freeze({\n  cs: \"Czech\",\n  da: \"Danish\",\n  de: \"German\",\n  en: \"English\",\n  es: \"Spanish\",\n  fi: \"Finnish\",\n  fr: \"French\",\n  hr: \"Croatian\",\n  hu: \"Hungarian\",\n  it: \"Italian\",\n  ja: \"Japanese\",\n  kk: \"Kazakh\",\n  ko: \"Korean\",\n  nb: \"Norwegian Bokmål\",\n  nl: \"Dutch\",\n  no: \"Norwegian\",\n  pl: \"Polish\",\n  pt: \"Portuguese\",\n  \"pt-br\": \"Portuguese (Brazil)\",\n  ro: \"Romanian\",\n  ru: \"Russian\",\n  sl: \"Slovenian\",\n  sv: \"Swedish\",\n  th: \"Thai\",\n  tr: \"Turkish\",\n  zh: \"Chinese\",\n  \"zh-cn\": \"Chinese (China)\",\n  \"zh-tw\": \"Chinese (Taiwan)\",\n});\n\nexport default CognosApi;\n","import React from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport { TextInput } from \"carbon-components-react\";\n\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nexport default function Input({ index, field, upperCase }) {\n  const { language, credentialsAndDefaults, setCredentialsAndDefaults } =\n    useGlobalState();\n\n  function handleChange(e) {\n    let temp = { ...credentialsAndDefaults };\n    temp.defaults[field] = upperCase\n      ? e.target.value.toUpperCase()\n      : e.target.value;\n    setCredentialsAndDefaults(temp);\n  }\n  return (\n    <TextInput\n      data-modal-primary-focus\n      id={`text-input-${index}`}\n      labelText={textLanguage[language].cognosModal[`inputLabel${index}`]}\n      placeholder={credentialsAndDefaults.defaults[field]}\n      style={{ marginBottom: \"1rem\" }}\n      onChange={handleChange}\n    />\n  );\n}\n","import React from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport { Select, SelectItem } from \"carbon-components-react\";\n\nimport textLanguage from \"../../helpers/languagesConfig\";\n\nexport default function CustomSelect({ index, setSelection, field }) {\n  const { resources, language } = useGlobalState();\n\n  return (\n    <Select\n      id={`select-${index}`}\n      invalidText=\"A valid value is required\"\n      labelText={textLanguage[language].cognosModal[`inputLabel${index}`]}\n      onChange={(e) => {\n        if (e.target.value === \"placeholder\")\n          alert(textLanguage[language].cognosModal.alert);\n        else setSelection(JSON.parse(e.target.value));\n      }}\n    >\n      <SelectItem\n        text={textLanguage[language].cognosModal.selectAnOption}\n        value=\"placeholder\"\n      />\n      {resources[field].body.resources.map((resource) => (\n        <SelectItem text={resource.name} value={JSON.stringify(resource)} />\n      ))}\n    </Select>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Tabs, Tab, Loading } from \"carbon-components-react\";\nimport TextInput from \"../TextInput\";\nimport Select from \"../Select\";\nimport { getCognosSession } from \"../../helpers/helpers\";\nimport { getResourceKeys } from \"../../helpers/apiCalls\";\n\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function CognosConfigModal() {\n  const {\n    history,\n    language,\n    cognosConfigOpen,\n    setCognosConfigOpen,\n    credentialsAndDefaults,\n    setCredentialsAndDefaults,\n    setCognosSession,\n    setWarningOpen,\n    setUnsavedChanges,\n    accountLoading,\n    setCognosDashboard,\n  } = useGlobalState();\n\n  const [cognosInstance, setCognosInstance] = useState(null);\n  const [cloudantInstance, setCloudantInstance] = useState(null);\n  const [db2Instance, setDb2Instance] = useState(null);\n\n  useEffect(() => {\n    if (cognosInstance) handleCognosCredentials();\n  }, [cognosInstance]);\n\n  useEffect(() => {\n    if (cloudantInstance) handleCloudantCredentials();\n  }, [cloudantInstance]);\n\n  useEffect(() => {\n    if (db2Instance) handleDb2Credentials();\n  }, [db2Instance]);\n\n  async function handleCognosCredentials() {\n    const resourceKeys = await getResourceKeys(cognosInstance.guid).catch(() =>\n      history.push(\"/login\")\n    );\n    const credentials = resourceKeys.resources[0].credentials;\n    let temp = { ...credentialsAndDefaults };\n    temp.credentials.cognosUsername = credentials.client_id;\n    temp.credentials.cognosPassword = credentials.client_secret;\n    setCredentialsAndDefaults(temp);\n  }\n\n  async function handleCloudantCredentials() {\n    const resourceKeys = await getResourceKeys(cloudantInstance.guid).catch(\n      () => history.push(\"/login\")\n    );\n    const credentials = resourceKeys.resources[0].credentials;\n    let temp = { ...credentialsAndDefaults };\n    temp.credentials.cloudantApi = credentials.apikey;\n    temp.credentials.cloudantUrl = credentials.url;\n    setCredentialsAndDefaults(temp);\n  }\n\n  async function handleDb2Credentials() {\n    const resourceKeys = await getResourceKeys(db2Instance.guid).catch(() =>\n      history.push(\"/login\")\n    );\n    const credentials = resourceKeys.resources[0].credentials;\n    let temp = { ...credentialsAndDefaults };\n    temp.credentials.db2Username =\n      credentials.connection.db2.authentication.username;\n    temp.credentials.db2Password =\n      credentials.connection.db2.authentication.password;\n    temp.credentials.jdbcUrl = credentials.connection.db2.jdbc_url[0].replace(\n      \"user=<userid>;password=<your_password>;\",\n      \"\"\n    );\n    setCredentialsAndDefaults(temp);\n  }\n\n  async function handleSubmit() {\n    setCognosSession(null);\n    setCognosDashboard(null);\n    setUnsavedChanges(false);\n    const response = await getCognosSession(\n      credentialsAndDefaults.credentials.cognosUsername,\n      credentialsAndDefaults.credentials.cognosPassword\n    );\n    if (response.data.Error) {\n      setWarningOpen(true);\n      setCognosSession(null);\n    } else {\n      setCognosSession(response.data);\n    }\n  }\n\n  return !accountLoading ? (\n    <Modal\n      id=\"cognosModal\"\n      hasForm\n      open={cognosConfigOpen}\n      modalHeading={textLanguage[language].cognosModal.heading}\n      modalLabel={textLanguage[language].cognosModal.label}\n      primaryButtonText={textLanguage[language].cognosModal.primaryText}\n      secondaryButtonText={textLanguage[language].cognosModal.secondaryText}\n      onRequestClose={() => {\n        setCognosConfigOpen(false);\n      }}\n      onRequestSubmit={handleSubmit}\n      preventCloseOnClickOutside\n    >\n      <Tabs type=\"container\">\n        <Tab id={\"cognos\"} label={textLanguage[language].cognosModal.tab1}>\n          <Select index={1} setSelection={setCognosInstance} field=\"cognos\" />\n        </Tab>\n        <Tab id={\"cloudant\"} label={textLanguage[language].cognosModal.tab2}>\n          <Select\n            index={2}\n            setSelection={setCloudantInstance}\n            field=\"cloudant\"\n          />\n          <TextInput index={3} field=\"cloudantDbName\" upperCase={false} />\n        </Tab>\n        <Tab id={\"db2\"} label={textLanguage[language].cognosModal.tab3}>\n          <Select index={2} setSelection={setDb2Instance} field=\"db2\" />\n\n          <TextInput index={5} field=\"xsd\" upperCase={false} />\n          <TextInput index={6} field=\"driverClassName\" upperCase={false} />\n        </Tab>\n        <Tab id=\"db2tables\" label={textLanguage[language].cognosModal.tab4}>\n          <TextInput index={7} field=\"logsTable\" upperCase={true} />\n          <TextInput index={8} field=\"conversationTable\" upperCase={true} />\n          <TextInput index={9} field=\"callsTable\" upperCase={true} />\n          <TextInput index={10} field=\"contextTable\" upperCase={true} />\n          <TextInput\n            index={11}\n            field=\"conversationPathTable\"\n            upperCase={true}\n          />\n          <TextInput index={12} field=\"overviewTable\" upperCase={true} />\n          <TextInput\n            index={13}\n            field=\"classDistributionTable\"\n            upperCase={true}\n          />\n          <TextInput index={14} field=\"precisionAtKTable\" upperCase={true} />\n          <TextInput index={15} field=\"classAccuracyTable\" upperCase={true} />\n          <TextInput\n            index={16}\n            field=\"pairWiseClassErrorsTable\"\n            upperCase={true}\n          />\n          <TextInput\n            index={17}\n            field=\"accuracyVsCoverageTable\"\n            upperCase={true}\n          />\n        </Tab>\n      </Tabs>\n    </Modal>\n  ) : (\n    <Loading />\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { Modal, TextInput } from \"carbon-components-react\";\nimport { sendToCloudant } from \"../../helpers/helpers\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function SaveModal() {\n  const {\n    language,\n    credentialsAndDefaults,\n    setCredentialsAndDefaults,\n    cognosDashboard,\n    setUnsavedChanges,\n    setWarningOpen,\n    saveModalOpen,\n    setSaveModalOpen,\n  } = useGlobalState();\n\n  async function handleSubmit() {\n    setWarningOpen(false);\n    const response = await sendToCloudant(\n      credentialsAndDefaults.credentials.cloudantApi,\n      credentialsAndDefaults.credentials.cloudantUrl,\n      credentialsAndDefaults.defaults.cloudantDbName,\n      credentialsAndDefaults.defaults.defaultDashboardName,\n      cognosDashboard,\n      setWarningOpen\n    );\n    if (!response.Error) {\n      setUnsavedChanges(false);\n    }\n    setSaveModalOpen(false);\n  }\n\n  return (\n    <Modal\n      open={saveModalOpen}\n      modalHeading={textLanguage[language].saveModal.heading}\n      modalLabel={textLanguage[language].saveModal.label}\n      primaryButtonText={textLanguage[language].saveModal.primaryText}\n      secondaryButtonText={textLanguage[language].saveModal.secondaryText}\n      onRequestClose={() => {\n        setWarningOpen(false);\n        setSaveModalOpen(false);\n      }}\n      onRequestSubmit={handleSubmit}\n      preventCloseOnClickOutside\n    >\n      <TextInput\n        data-modal-primary-focus\n        id=\"text-input-9\"\n        labelText={textLanguage[language].saveModal.inputLabel1}\n        placeholder={credentialsAndDefaults.defaults.defaultDashboardName}\n        style={{ marginBottom: \"1rem\" }}\n        onChange={(e) => {\n          let temp = { ...credentialsAndDefaults };\n          temp.defaults.defaultDashboardName = e.target.value;\n          setCredentialsAndDefaults(temp);\n        }}\n      />\n    </Modal>\n  );\n}\n","import { useGlobalState } from \"../../hooks/globalState\";\nimport { Modal, TextInput } from \"carbon-components-react\";\nimport { getFromCloudant } from \"../../helpers/helpers\";\nimport textLanguage from \"../../helpers/languagesConfig\";\nimport \"./style.css\";\n\nexport default function LoadModal() {\n  const {\n    language,\n    credentialsAndDefaults,\n    setCredentialsAndDefaults,\n    setWarningOpen,\n    loadModalOpen,\n    setUnsavedChanges,\n    setLoadModalOpen,\n    cognosClient,\n    setCognosDashboard,\n  } = useGlobalState();\n\n  async function loadDashboard(cognosApi, dashboard) {\n    return new Promise((resolve, reject) => {\n      try {\n        cognosApi.initialize().then(() => {\n          cognosApi.dashboard\n            .openDashboard({\n              dashboardSpec: dashboard,\n            })\n            .then(async (dashboardAPI) => {\n              dashboardAPI.setMode(dashboardAPI.MODES.EDIT);\n              setCognosDashboard(await dashboardAPI.getSpec());\n              dashboardAPI.on(dashboardAPI.EVENTS.DIRTY, async () => {\n                setUnsavedChanges(true);\n                const dashSpec = await dashboardAPI.getSpec();\n                setCognosDashboard(dashSpec);\n              });\n              resolve(\"Ok\");\n            });\n        });\n      } catch (err) {\n        reject(\"Bad Credentials/DbName  \");\n      }\n    });\n  }\n\n  async function handleSubmit() {\n    setWarningOpen(false);\n    const dashboardSpec = await getFromCloudant(\n      credentialsAndDefaults.defaults.defaultDashboardName,\n      credentialsAndDefaults.credentials.cloudantApi,\n      credentialsAndDefaults.credentials.cloudantUrl,\n      credentialsAndDefaults.defaults.cloudantDbName,\n      setWarningOpen\n    );\n    if (dashboardSpec.Error) {\n      setLoadModalOpen(false);\n    } else {\n      await loadDashboard(cognosClient, dashboardSpec);\n      setUnsavedChanges(false);\n      setLoadModalOpen(false);\n    }\n  }\n\n  return (\n    <Modal\n      open={loadModalOpen}\n      modalHeading={textLanguage[language].loadModal.heading}\n      modalLabel={textLanguage[language].loadModal.label}\n      primaryButtonText={textLanguage[language].loadModal.primaryText}\n      secondaryButtonText={textLanguage[language].loadModal.secondaryText}\n      onRequestClose={() => {\n        setWarningOpen(false);\n        setLoadModalOpen(false);\n      }}\n      onRequestSubmit={handleSubmit}\n      preventCloseOnClickOutside\n    >\n      <TextInput\n        data-modal-primary-focus\n        id=\"text-input-9\"\n        labelText={textLanguage[language].loadModal.inputLabel1}\n        placeholder={credentialsAndDefaults.defaults.defaultDashboardName}\n        style={{ marginBottom: \"1rem\" }}\n        onChange={(e) => {\n          let temp = { ...credentialsAndDefaults };\n          temp.defaults.defaultDashboardName = e.target.value;\n          setCredentialsAndDefaults(temp);\n        }}\n      />\n    </Modal>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport Header from \"../../components/Header\";\n\nimport CognosApi from \"../../helpers/cognos\";\nimport {\n  getCognosSession,\n  getFromCloudant,\n  initializeSources,\n} from \"../../helpers/helpers\";\n\nimport \"./style.css\";\n\nimport CognosConfigModal from \"../../components/CognosConfigModal\";\nimport SaveModal from \"../../components/SaveModal\";\nimport LoadModal from \"../../components/LoadModal\";\n\nexport default function CognosPage() {\n  const {\n    account,\n    history,\n    language,\n    setLanguage,\n    setCognosConfigOpen,\n    setCognosHelpOpen,\n    setCognosClient,\n    cognosSession,\n    setCognosSession,\n    credentialsAndDefaults,\n    cognosDashboard,\n    setCognosDashboard,\n    setSuccessOpen,\n    setUnsavedChanges,\n    setStandardDashboardModal,\n  } = useGlobalState();\n\n  const [renderSave, setRenderSave] = useState(false);\n\n  useEffect(() => {\n    if (account.entity.name === \"\") history.push(\"/login\");\n  }, []);\n\n  async function loadDashboard(cognosApi, dashboard, setUnsavedChanges) {\n    return new Promise((resolve, reject) => {\n      cognosApi.initialize().then(() => {\n        cognosApi.dashboard\n          .openDashboard({\n            dashboardSpec: dashboard,\n          })\n          .then(async (dashboardAPI) => {\n            dashboardAPI.setMode(dashboardAPI.MODES.EDIT);\n            setCognosDashboard(await dashboardAPI.getSpec());\n\n            dashboardAPI.on(dashboardAPI.EVENTS.DIRTY, async () => {\n              const dashSpec = await dashboardAPI.getSpec();\n              setUnsavedChanges(true);\n              setCognosDashboard(dashSpec);\n            });\n\n            setRenderSave(true);\n            resolve(\"Ok\");\n          });\n      });\n    });\n  }\n\n  async function initializeDashboard(cognosApi) {\n    cognosApi.initialize().then(async () => {\n      cognosApi.dashboard\n        .openDashboard({\n          dashboardSpec: await initializeSources(\n            credentialsAndDefaults.defaults.xsd,\n            credentialsAndDefaults.credentials.jdbcUrl,\n            credentialsAndDefaults.defaults.driverClassName,\n            credentialsAndDefaults.defaults.schema,\n            credentialsAndDefaults.credentials.db2Username,\n            credentialsAndDefaults.credentials.db2Password,\n            credentialsAndDefaults.defaults.logsTable,\n            credentialsAndDefaults.defaults.conversationTable,\n            credentialsAndDefaults.defaults.callsTable,\n            credentialsAndDefaults.defaults.contextTable,\n            credentialsAndDefaults.defaults.conversationPathTable,\n            credentialsAndDefaults.defaults.overviewTable,\n            credentialsAndDefaults.defaults.classDistributionTable,\n            credentialsAndDefaults.defaults.precisionAtKTable,\n            credentialsAndDefaults.defaults.classAccuracyTable,\n            credentialsAndDefaults.defaults.pairWiseClassErrorsTable,\n            credentialsAndDefaults.defaults.accuracyVsCoverageTable\n          ),\n        })\n        .then(async (dashboardAPI) => {\n          dashboardAPI.setMode(dashboardAPI.MODES.EDIT);\n          setCognosDashboard(await dashboardAPI.getSpec());\n\n          dashboardAPI.on(dashboardAPI.EVENTS.DIRTY, async () => {\n            const dashSpec = await dashboardAPI.getSpec();\n            setUnsavedChanges(true);\n            setCognosDashboard(dashSpec);\n          });\n\n          setRenderSave(true);\n        });\n    });\n  }\n\n  useEffect(async () => {\n    const storedLanguage = localStorage.getItem(\"language\");\n    if (storedLanguage) setLanguage(storedLanguage);\n\n    setSuccessOpen(false);\n    setStandardDashboardModal(false);\n\n    if (\n      credentialsAndDefaults.credentials.cognosUsername &&\n      credentialsAndDefaults.credentials.cognosUsername !== \"null\" &&\n      credentialsAndDefaults.credentials.cognosPassword &&\n      credentialsAndDefaults.credentials.cognosPassword !== \"null\"\n    ) {\n      const session = await getCognosSession(\n        credentialsAndDefaults.credentials.cognosUsername,\n        credentialsAndDefaults.credentials.cognosPassword\n      );\n      if (session.data.Error) {\n        setCognosSession(null);\n      } else {\n        setCognosSession(session.data);\n      }\n    } else {\n      setCognosConfigOpen(true);\n    }\n  }, []);\n\n  useEffect(async () => {\n    if (cognosSession && typeof cognosSession === \"string\") {\n      const cognosApi = new CognosApi({\n        cognosRootURL:\n          \"https://us-south.dynamic-dashboard-embedded.cloud.ibm.com/daas/\",\n        node: document.getElementById(\"cognosDiv\"),\n        sessionCode: cognosSession,\n        language: language,\n      });\n      setCognosClient(cognosApi);\n\n      if (cognosDashboard) {\n        await loadDashboard(cognosApi, cognosDashboard, setUnsavedChanges);\n      } else {\n        const storagedDashboard = await getFromCloudant(\n          credentialsAndDefaults.defaults.defaultDashboardName,\n          credentialsAndDefaults.credentials.cloudantApi,\n          credentialsAndDefaults.credentials.cloudantUrl,\n          credentialsAndDefaults.defaults.cloudantDbName,\n          setStandardDashboardModal\n        );\n        setCognosConfigOpen(false);\n        if (!storagedDashboard.Error) {\n          await loadDashboard(cognosApi, storagedDashboard, setUnsavedChanges);\n        } else {\n          await initializeDashboard(cognosApi);\n        }\n      }\n    } else if (!cognosSession) {\n      setRenderSave(false);\n      setCognosClient(null);\n    }\n  }, [cognosSession]);\n\n  return (\n    <div id=\"content\">\n      <Header\n        modalOpen={setCognosConfigOpen}\n        helpOpen={setCognosHelpOpen}\n        renderButton={renderSave}\n      />\n      <SaveModal />\n      <LoadModal />\n      <CognosConfigModal />\n      <div id=\"cognosDiv\"></div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"carbon-components/css/carbon-components.min.css\";\nimport Header from \"../../components/Header\";\nimport { useGlobalState } from \"../../hooks/globalState\";\nimport { TextInput, Button, Loading } from \"carbon-components-react\";\nimport {\n  getAccounts,\n  getResources,\n  switchAccount,\n} from \"../../helpers/apiCalls\";\nimport api from \"../../services/api\";\n\nimport { registerLogin, defaultValues } from \"../../helpers/helpers\";\n\nimport \"./style.css\";\n\nexport default function Login() {\n  const {\n    setHelpOpen,\n    setConfigOpen,\n    history,\n    setAccount,\n    setAccounts,\n    setResources,\n    credentialsAndDefaults,\n    setCredentialsAndDefaults,\n  } = useGlobalState();\n  const [token, setToken] = useState(\"\");\n  const [invalid, setInvalid] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  async function handleLogin() {\n    setLoading(true);\n    try {\n      await api.post(\"/ibmid/login\", { passcode: token });\n      let res = await getAccounts();\n      setAccounts(res);\n      if (\n        localStorage.getItem(\"savedAccount\") &&\n        res.resources.some(\n          (account) =>\n            JSON.stringify(account) === localStorage.getItem(\"savedAccount\")\n        )\n      ) {\n        console.log(\"Found account. Picking last one used\");\n        await switchAccount(\n          JSON.parse(localStorage.getItem(\"savedAccount\")).metadata.guid\n        ).then(() => {\n          setAccount(JSON.parse(localStorage.getItem(\"savedAccount\")));\n        });\n      } else {\n        console.log(\"No saved account. Picking default first\");\n        setAccount(res.resources[0]);\n      }\n      setResources(await getResources());\n      history.push(\"/dashboard\");\n\n      registerLogin(\n        `${\n          res.resources[0].entity.primary_owner.ibmid\n        } - ${new Date().toLocaleDateString(\"pt-BR\", {\n          timeZone: \"America/Sao_Paulo\",\n          hour: \"numeric\",\n          minute: \"numeric\",\n          second: \"numeric\",\n        })}`,\n        res.resources[0]\n      );\n    } catch (error) {\n      setInvalid(true);\n    }\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    let temp = { ...credentialsAndDefaults };\n    if (credentialsAndDefaults === null) {\n      temp = defaultValues;\n    } else {\n      Object.entries(credentialsAndDefaults.defaults).map(([key, value]) => {\n        if (value === null) {\n          temp.defaults[key] = defaultValues.defaults[key];\n        }\n      });\n    }\n    setCredentialsAndDefaults(temp);\n  }, []);\n\n  return (\n    <div id=\"login_page\">\n      <Header modalOpen={setConfigOpen} helpOpen={setHelpOpen} />\n      <div id=\"login_content\">\n        <div id=\"login_image\">\n          <div id=\"image\" />\n        </div>\n\n        <div id=\"login\">\n          <h2>Login</h2>\n          <br></br>\n          <TextInput\n            size=\"md\"\n            type=\"password\"\n            labelText=\"Token\"\n            placeholder=\"IBM Cloud one time Token\"\n            required\n            invalid={invalid}\n            invalidText=\"Please, try againg.\"\n            value={token}\n            onChange={(event) => {\n              setToken(event.target.value);\n              setInvalid(false);\n            }}\n          />\n          <div id=\"buttons\">\n            <Button\n              className={\"button\"}\n              href={`${window.location.protocol}//${window.location.host}/ibmid/passcode`}\n              target=\"_blank\"\n              kind=\"secondary\"\n            >\n              Get Token\n            </Button>\n            <Button onClick={handleLogin} className={\"button\"}>\n              Login\n            </Button>\n          </div>\n        </div>\n        {loading && <Loading />}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route, Switch, BrowserRouter, Redirect } from \"react-router-dom\";\nimport Dashboard from \"./pages/Dashboard/index\";\nimport SearchPage from \"./pages/Search/index\";\nimport CognosPage from \"./pages/Cognos/index\";\nimport Login from \"./pages/Login/index\";\nimport GlobalStateProvider from \"./hooks/globalState\";\n\nexport default function Routes() {\n  return (\n    <BrowserRouter>\n      <GlobalStateProvider>\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to=\"/login\" />\n          </Route>\n          <Route exact path=\"/dashboard\" component={Dashboard} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/search\" component={SearchPage} />\n          <Route exact path=\"/cognos\" component={CognosPage} />\n        </Switch>\n      </GlobalStateProvider>\n    </BrowserRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.css';\nimport Routes from './routes';\nimport GlobalStateProvider from './hooks/globalState';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStateProvider>\n      <Routes />\n    </GlobalStateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}